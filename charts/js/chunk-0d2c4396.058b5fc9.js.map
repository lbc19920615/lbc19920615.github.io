{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_string-at.js","webpack:///./node_modules/core-js/modules/_flags.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./node_modules/core-js/modules/es6.string.repeat.js","webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///./node_modules/core-js/modules/_iter-call.js","webpack:///./node_modules/core-js/modules/_classof.js","webpack:///./node_modules/core-js/modules/_object-gops.js","webpack:///./node_modules/core-js/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/modules/_is-array-iter.js","webpack:///./node_modules/core-js/modules/_wks-ext.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./node_modules/core-js/modules/_wks-define.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./src/pages/threejs/threejs.vue?9b9c","webpack:///./src/threejs/common.js","webpack:///./src/threejs/line1.js","webpack:///./src/threejs/demo1.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/three/examples/jsm/controls/OrbitControls.js","webpack:///./node_modules/three/examples/jsm/loaders/GLTFLoader.js","webpack:///./node_modules/three/examples/jsm/loaders/DRACOLoader.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/construct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack:///./src/threejs/gltf-modelviewer.js","webpack:///./src/threejs/gltf.js","webpack:///src/pages/threejs/threejs.vue","webpack:///./src/pages/threejs/threejs.vue?7f71","webpack:///./src/pages/threejs/threejs.vue","webpack:///./node_modules/core-js/modules/_object-pie.js","webpack:///./node_modules/core-js/modules/_iter-detect.js","webpack:///./node_modules/core-js/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/core-js/modules/_meta.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/core-js/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/modules/es6.symbol.js","webpack:///./node_modules/core-js/modules/_object-gopn.js","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./node_modules/core-js/modules/es7.symbol.async-iterator.js","webpack:///./src/pages/threejs/threejs.vue?6fea","webpack:///./node_modules/core-js/modules/_enum-keys.js","webpack:///./node_modules/core-js/modules/_create-property.js"],"names":["toInteger","defined","module","exports","TO_STRING","that","pos","a","b","s","String","i","l","length","undefined","charCodeAt","charAt","slice","anObject","this","result","global","ignoreCase","multiline","unicode","sticky","cof","Array","isArray","arg","pIE","createDesc","toIObject","toPrimitive","has","IE8_DOM_DEFINE","gOPD","Object","getOwnPropertyDescriptor","f","O","P","e","call","$export","repeat","ctx","toObject","isArrayIter","toLength","createProperty","getIterFn","S","F","iter","from","arrayLike","step","iterator","C","aLen","arguments","mapfn","mapping","index","iterFn","next","done","value","fn","entries","ret","TAG","ARG","tryGet","it","key","T","B","callee","getOwnPropertySymbols","classof","ITERATOR","Iterators","getIteratorMethod","ArrayProto","prototype","flags","RegExp","configurable","get","core","LIBRARY","wksExt","defineProperty","name","$Symbol","Symbol","$keys","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","on","$event","openDialog1","_v","_l","ThreejsDemosKey","switchCanvas","_s","ref","_e","staticRenderFns","createThreejsCommon","THREE","canvas","size","scene","Scene","camera","PerspectiveCamera","renderer","WebGLRenderer","alpha","setSize","DemoLine1","context","$refs","position","set","lookAt","material","LineBasicMaterial","color","points","push","Vector3","geometry","BufferGeometry","setFromPoints","line","Line","add","render","console","log","DemoMeshPhongMaterial","spotLight","SpotLight","Mat","MeshPhongMaterial","Color","emissive","specular","shininess","wireframe","transparent","opacity","vertexColors","castShadow","shadow","mapSize","width","height","SphereGeometry","Math","PI","earth","Mesh","requestAnimationFrame","rotation","y","z","_arrayWithoutHoles","arr","arrayLikeToArray","_iterableToArray","_nonIterableSpread","TypeError","_toConsumableArray","unsupportedIterableToArray","OrbitControls","object","domElement","warn","document","error","enabled","target","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TWO","DOLLY_PAN","target0","clone","position0","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","saveState","scope","copy","reset","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","STATE","NONE","offset","quat","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","twoPI","sub","applyQuaternion","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","min","max","isFinite","makeSafe","radius","scale","addScaledVector","panOffset","setFromSpherical","multiplyScalar","zoomChanged","distanceToSquared","EPS","dot","quaternion","dispose","removeEventListener","onContextMenu","onPointerDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","ownerDocument","onPointerMove","onPointerUp","onKeyDown","type","startEvent","endEvent","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","tan","fov","clientHeight","matrix","isOrthographicCamera","right","left","clientWidth","top","bottom","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","event","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","subVectors","x","handleMouseMoveDolly","handleMouseMovePan","handleMouseUp","handleMouseWheel","handleKeyDown","needsUpdate","keyCode","preventDefault","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","handleTouchEnd","pointerType","onMouseDown","onMouseMove","onMouseUp","mouseAction","focus","window","button","ctrlKey","metaKey","shiftKey","addEventListener","stopPropagation","DOLLY_ROTATE","tabIndex","create","constructor","MapControls","GLTFLoader","manager","dracoLoader","ddsLoader","ktx2Loader","pluginCallbacks","register","parser","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFMaterialsTransmissionExtension","GLTFLightsExtension","GLTFRegistry","objects","remove","removeAll","assign","load","url","onLoad","onProgress","onError","resourcePath","path","extractUrlBase","itemStart","_onError","itemError","itemEnd","loader","setPath","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","data","parse","gltf","setDRACOLoader","setDDSLoader","setKTX2Loader","callback","indexOf","unregister","splice","content","extensions","plugins","magic","decodeText","Uint8Array","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","json","JSON","asset","version","Error","GLTFParser","crossOrigin","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","MSFT_TEXTURE_DDS","GLTFTextureDDSExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_TRANSMISSION","KHR_TEXTURE_BASISU","cache","refs","uses","_markDefs","nodeDefs","nodes","nodeIndex","nodeLength","nodeDef","light","_addNodeRef","_loadLight","lightIndex","cacheKey","dependency","lightNode","lightDefs","lights","lightDef","fromArray","range","spot","innerConeAngle","outerConeAngle","penumbra","decay","intensity","createUniqueName","Promise","resolve","createNodeAttachment","self","then","_getNodeRef","getMaterialType","extendParams","materialParams","materialDef","pending","metallicRoughness","pbrMetallicRoughness","baseColorFactor","array","baseColorTexture","assignTexture","all","materialIndex","materials","extendMaterialParams","extension","clearcoatFactor","clearcoat","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughness","clearcoatRoughnessTexture","clearcoatNormalTexture","clearcoatNormalScale","transmissionFactor","transmission","transmissionTexture","loadTexture","textureIndex","textureDef","textures","source","images","options","loadTextureImage","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","BIN","body","headerView","DataView","header","getUint32","chunkView","chunkIndex","byteLength","chunkLength","chunkType","contentArray","byteOffset","preload","GLTFMeshStandardSGMaterial","params","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","join","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","uniforms","setHex","glossiness","specularMap","glossinessMap","_extraUniforms","onBeforeCompile","shader","uniformName","fragmentShader","replace","defineProperties","defines","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","metalness","roughness","metalnessMap","roughnessMap","setValues","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","fog","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","alphaMap","envMap","envMapIntensity","refractionRatio","GLTFCubicSplineInterpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","decodePrimitive","primitive","bufferViewIndex","bufferView","gltfAttributeMap","attributes","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","toLowerCase","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","normalized","getDependency","decodeDracoFile","attribute","extendTexture","texture","transform","texCoord","copySampleValue_","values","valueSize","beforeStart_","afterEnd_","interpolate_","i1","t0","t","t1","stride","stride2","stride3","td","p","pp","ppp","offset1","offset0","s2","s3","s0","s1","p0","m0","p1","m1","WEBGL_CONSTANTS","FLOAT","FLOAT_MAT3","FLOAT_MAT4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","LINEAR","REPEAT","SAMPLER_2D","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","UNSIGNED_BYTE","UNSIGNED_SHORT","5120","Int8Array","5121","5122","Int16Array","5123","Uint16Array","5125","Uint32Array","5126","Float32Array","WEBGL_FILTERS","9728","9729","9984","9985","9986","9987","WEBGL_WRAPPINGS","33071","33648","10497","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","STEP","ALPHA_MODES","OPAQUE","MASK","BLEND","resolveURL","test","createDefaultMaterial","depthTest","side","addUnknownExtensionsToUserData","knownExtensions","objectDef","userData","gltfExtensions","assignExtrasToUserData","gltfDef","extras","addMorphTargets","targets","hasMorphPosition","hasMorphNormal","il","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","normal","morphPositions","morphNormals","morphAttributes","morphTargetsRelative","updateMorphTargets","mesh","meshDef","morphTargetInfluences","targetNames","morphTargetDictionary","createPrimitiveKey","primitiveDef","geometryKey","dracoExtension","indices","createAttributesKey","mode","attributesKey","sort","associations","Map","primitiveCache","meshCache","cameraCache","lightCache","nodeNamesUsed","createImageBitmap","navigator","userAgent","textureLoader","setCrossOrigin","computeBounds","box","accessor","maxDisplacement","vector","setX","abs","setY","setZ","expandByVector","boundingBox","sphere","getCenter","center","distanceTo","boundingSphere","addPrimitiveAttributes","assignAttributeAccessor","accessorIndex","setAttribute","gltfAttributeName","setIndex","toTrianglesDrawMode","drawMode","getIndex","getAttribute","count","numberOfTriangles","newIndices","getX","newGeometry","_invokeAll","ext","getDependencies","dependencies","scenes","animations","cameras","catch","skinDefs","skins","meshDefs","meshes","skinIndex","skinLength","joints","isBone","skin","isSkinnedMesh","_invokeOne","func","unshift","loadScene","loadNode","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","buffers","uri","reject","bufferViewDef","bufferViews","buffer","sparse","pendingBufferViews","bufferAttribute","itemSize","TypedArray","elementBytes","BYTES_PER_ELEMENT","itemBytes","byteStride","ibSlice","floor","ibCacheKey","ib","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setW","textureExtensions","getHandler","URL","webkitURL","sourceURI","isObjectURL","hasAlpha","mimeType","colorType","getUint8","blob","Blob","createObjectURL","isImageBitmapLoader","imageBitmap","revokeObjectURL","flipY","format","samplers","sampler","magFilter","minFilter","wrapS","wrapT","mapName","mapDef","gltfReference","assignFinalMaterial","useVertexTangents","tangent","useVertexColors","useFlatShading","useSkinning","useMorphTargets","useMorphNormals","isPoints","uuid","pointsMaterial","sizeAttenuation","isLine","lineMaterial","cachedMaterial","skinning","vertexTangents","flatShading","morphTargets","uv2","uv","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","doubleSided","alphaMode","depthWrite","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","encoding","originalName","sanitizeNodeName","loadGeometries","primitives","createDracoPrimitive","geometryPromise","cached","promise","meshIndex","results","geometries","skinWeight","normalizeSkinWeights","group","cameraIndex","cameraDef","radToDeg","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","channel","node","id","input","parameters","output","inputAccessors","outputAccessors","tracks","inputAccessor","outputAccessor","TypedKeyframeTrack","updateMatrix","matrixAutoUpdate","targetName","interpolation","traverse","isMesh","outputArray","scaled","j","jl","track","createInterpolant","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","nodeName","o","forEach","applyMatrix4","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","bones","boneInverses","jointNode","mat","bind","matrixWorld","children","child","sceneIndex","sceneDef","nodeIds","DRACOLoader","decoderPath","decoderConfig","decoderBinary","decoderPending","workerLimit","workerPool","workerNextTaskID","workerSourceURL","defaultAttributeIDs","defaultAttributeTypes","setDecoderPath","setDecoderConfig","config","setWorkerLimit","setVerbosity","setDrawMode","setSkipDequantization","taskConfig","attributeIDs","attributeTypes","useUniqueIDs","decodeGeometry","worker","taskKey","stringify","taskCache","cachedTask","taskID","taskCost","geometryPending","_getWorker","_worker","_callbacks","postMessage","message","_createGeometry","_releaseTask","geometryData","_loadLibrary","responseType","_initDecoder","useJS","WebAssembly","librariesPending","libraries","jsContent","wasmBinary","DRACOWorker","toString","substring","lastIndexOf","Worker","_taskCosts","_taskLoad","onmessage","debug","terminate","draco","decoder","decoderBuffer","dracoGeometry","decodingStatus","geometryType","GetEncodedGeometryType","TRIANGULAR_MESH","DecodeBufferToMesh","POINT_CLOUD","PointCloud","DecodeBufferToPointCloud","ok","ptr","error_msg","attributeID","attributeType","GetAttributeByUniqueId","GetAttributeId","GetAttribute","decodeAttribute","decodeIndex","destroy","numFaces","num_faces","numIndices","_malloc","GetTrianglesUInt32Array","HEAPF32","_free","numComponents","num_components","numPoints","num_points","numValues","dataType","getDracoDataType","GetAttributeDataArrayForAllPoints","DT_FLOAT32","DT_INT8","DT_INT16","Int32Array","DT_INT32","DT_UINT8","DT_UINT16","DT_UINT32","onModuleLoaded","DracoDecoderModule","Decoder","DecoderBuffer","Init","attr","WeakMap","releaseDecoderModule","getDecoderModule","_isNativeFunction","Function","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","Parent","args","Class","apply","Constructor","instance","setPrototypeOf","_cache","Wrapper","getPrototypeOf","enumerable","writable","DECODER_PATH","GLTFModelViewer","querySelector","controls","frame","onResize","attributeChangedCallback","dragging","hasAttribute","oldValue","newValue","isInitialized","cleanupScene","initScene","updateAutorotate","setup","parseInt","createElement","classList","appendChild","antialias","setPixelRatio","devicePixelRatio","near","far","setupLight","loadModel","skyColor","groundColor","planeSize","repeats","planeGeo","planeMat","gltfLoader","src","root","model","setFromObject","boxSize","getSize","boxCenter","frameArea","sizeToFitOnScreen","halfSizeToFitOnScreen","halfFovY","degToRad","direction","multiply","normalize","groupOrScene","items","item","cancelAnimationFrame","getContext","loseCtx","getExtension","loseContext","removeChild","aspect","dpr","needsResize","customElements","define","HTMLElement","HemisphereLight","DirectionalLight","TextureLoader","RepeatWrapping","NearestFilter","PlaneBufferGeometry","DoubleSide","Box3","MathUtils","DemoGltf1","myGLTFModelViewer","connectedCallback","resetCanvas","ThreejsDemosKeys","mounted","setTimeout","component","propertyIsEnumerable","SAFE_CLOSING","riter","exec","skipClosing","safe","$at","iterated","_t","_i","point","fails","KEY","exp","META","isObject","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","$flags","DESCRIPTORS","$toString","R","concat","gOPN","windowNames","getOwnPropertyNames","getWindowNames","redefine","$fails","shared","setToStringTag","uid","wks","wksDefine","enumKeys","_create","gOPNExt","$GOPD","$GOPS","$DP","dP","$JSON","_stringify","PROTOTYPE","HIDDEN","TO_PRIMITIVE","isEnum","SymbolRegistry","AllSymbols","OPSymbols","ObjectProto","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","D","protoDesc","wrap","tag","sym","_k","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","$getOwnPropertySymbols","IS_OP","$set","G","W","es6Symbols","split","wellKnownSymbols","store","k","keyFor","useSetter","useSimple","FAILS_ON_PRIMITIVES","replacer","$replacer","hiddenKeys","str","res","n","RangeError","getKeys","gOPS","getSymbols","symbols"],"mappings":"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","file":"js/chunk-0d2c4396.058b5fc9.js","sourcesContent":["var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","exports.f = require('./_wks');\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-threejs\"},[_c('el-button',{staticStyle:{\"--grd-btn-width\":\"90px\",\"--grd-btn-height\":\"30px\"},attrs:{\"type\":\"grd\",\"size\":\"small\"},on:{\"click\":function($event){_vm.openDialog1 = true}}},[_vm._v(\"dialog1\")]),_c('simple-dialog',{attrs:{\"open\":_vm.openDialog1},on:{\"closed\":function($event){_vm.openDialog1 = false}}},[_c('div',{staticStyle:{\"width\":\"600px\",\"height\":\"300px\"}},[_vm._v(\"sdsds\")])]),_c('div',_vm._l((_vm.ThreejsDemosKeys),function(ThreejsDemosKey){return _c('el-button',{staticStyle:{\"--grd-btn-width\":\"90px\",\"--grd-btn-height\":\"30px\"},attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.switchCanvas(ThreejsDemosKey)}}},[_vm._v(_vm._s(ThreejsDemosKey))])}),1),(_vm.resetCanvas)?_c('canvas',{ref:\"canvas\",staticClass:\"canvas\"}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function createThreejsCommon(THREE, { canvas } = {}) {\r\n  const size = [ 1024, 768 ]\r\n\r\n  var scene = new THREE.Scene();\r\n  var camera = new THREE.PerspectiveCamera(75, size[0] / size[1], 0.1, 1000);\r\n  var renderer = new THREE.WebGLRenderer({\r\n    alpha: true,\r\n    canvas: canvas\r\n  });\r\n\r\n  renderer.setSize(size[0], size[1]);\r\n\r\n  return {\r\n    scene,\r\n    camera,\r\n    renderer\r\n  }\r\n}\r\n","import {createThreejsCommon} from \"@/threejs/common\";\r\n\r\nexport function DemoLine1(THREE, context) {\r\n  let { scene, camera, renderer } = createThreejsCommon(THREE, {\r\n    canvas: context.$refs.canvas\r\n  })\r\n\r\n  camera.position.set( 0, 0, 100 );\r\n  camera.lookAt( 0, 0, 0 );\r\n\r\n  //create a blue LineBasicMaterial\r\n  const material = new THREE.LineBasicMaterial( { color: 0x0000ff } );\r\n\r\n  const points = [];\r\n  points.push( new THREE.Vector3( - 10, 0, 0 ) );\r\n  points.push( new THREE.Vector3( 0, 10, 0 ) );\r\n  points.push( new THREE.Vector3( 10, 0, 0 ) );\r\n\r\n  const geometry = new THREE.BufferGeometry().setFromPoints( points );\r\n\r\n  const line = new THREE.Line( geometry, material );\r\n\r\n  scene.add( line );\r\n  renderer.render( scene, camera );\r\n  console.log(\r\n    line\r\n  )\r\n}\r\n","import {createThreejsCommon} from \"@/threejs/common\";\r\n\r\nexport function DemoMeshPhongMaterial(THREE, context) {\r\n  let { scene, camera, renderer } = createThreejsCommon(THREE, {\r\n    canvas: context.$refs.canvas\r\n  })\r\n\r\n  /* Create Lights: PointLight / SpotLight etc.*/\r\n  /* Create Lights: PointLight / SpotLight etc.*/\r\n  var spotLight = new THREE.SpotLight(0xffffff);\r\n  spotLight.position.set(100, 100, 100);\r\n  spotLight.castShadow = true; //If set to true light will cast dynamic shadows. Warning: This is expensive and requires tweaking to get shadows looking right.\r\n  spotLight.shadow.mapSize.width = 1024;\r\n  spotLight.shadow.mapSize.height = 1024;\r\n\r\n  scene.add(spotLight);\r\n\r\n  /* Create Material */\r\n  function Mat() {\r\n    var material = new THREE.MeshPhongMaterial({\r\n      color: new THREE.Color(\"rgb(35,35,213)\"),  //Diffuse color of the material\r\n      emissive: new THREE.Color(\"rgb(64,128,255)\"), //Emissive(light) color of the material, essentially a solid color unaffected by other lighting. Default is black.\r\n      specular: new THREE.Color(\"rgb(93,195,255)\"), /*Specular color of the material, i.e., how shiny the material is and the color of its shine.\r\n                                                     Setting this the same color as the diffuse value (times some intensity) makes the material more metallic-looking;\r\n                                                     setting this to some gray makes the material look more plastic. Default is dark gray.*/\r\n      shininess: 1,                                  //How shiny the specular highlight is; a higher value gives a sharper highlight. Default is 30.\r\n      // shading: THREE.FlatShading,                  //How the triangles of a curved surface are rendered: THREE.SmoothShading, THREE.FlatShading, THREE.NoShading\r\n      wireframe: true,                                  //THREE.Math.randInt(0,1)\r\n      transparent: 1,\r\n      opacity: 0.15,\r\n      // fog: true\r\n      vertexColors: true\r\n    });\r\n    return material;\r\n  }\r\n\r\n  /* Create Geometry */\r\n  var geometry = new THREE.SphereGeometry(50, 20, 20, 0, Math.PI * 2, 0, Math.PI);\r\n//SphereGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength)\r\n\r\n  /* Create Earth Sphere*/\r\n  var earth = new THREE.Mesh(geometry, Mat());\r\n\r\n  /*\r\n  var numSphere = 30;\r\n  var tabSphere = [];\r\n  for(var i=0: i<numSphere; i++){\r\n  tabShpere.push(new Sphere(i));\r\n  scene.add(tabSphere[i].b);\r\n  }\r\n  */\r\n\r\n  scene.add(earth);\r\n\r\n  camera.position.z = 90;\r\n\r\n  /*\r\n  This will create a loop that causes the renderer to draw the scene 60 times per second.\r\n  If you're new to writing games in the browser, you might say \"why don't we just create a setInterval?\r\n  The thing is - we could, but requestAnimationFrame has a number of advantages.\r\n  Perhaps the most important one is that it pauses when the user navigates to another browser tab, hence not wasting their precious processing power and battery life.\r\n  */\r\n  function render() {\r\n    requestAnimationFrame(render);\r\n// earth.rotation.x += 0.01;\r\nearth.rotation.y += 0.01;\r\n    renderer.render(scene, camera);\r\n  }\r\n\r\n  render();\r\n}\r\n","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from \"../../../build/three.module.js\";\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function ( object, domElement ) {\n\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\tthis.object = object;\n\tthis.domElement = domElement;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.05;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.panSpeed = 1.0;\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t// Touch fingers\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new Vector3();\n\t\tvar lastQuaternion = new Quaternion();\n\n\t\tvar twoPI = 2 * Math.PI;\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t} else {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t}\n\n\t\t\t// restrict theta to be between desired limits\n\n\t\t\tvar min = scope.minAzimuthAngle;\n\t\t\tvar max = scope.maxAzimuthAngle;\n\n\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\tif ( min < max ) {\n\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t}\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown, false );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\n\n\t\tscope.domElement.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = {\n\t\tNONE: - 1,\n\t\tROTATE: 0,\n\t\tDOLLY: 1,\n\t\tPAN: 2,\n\t\tTOUCH_ROTATE: 3,\n\t\tTOUCH_PAN: 4,\n\t\tTOUCH_DOLLY_PAN: 5,\n\t\tTOUCH_DOLLY_ROTATE: 6\n\t};\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new Spherical();\n\tvar sphericalDelta = new Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new Vector2();\n\tvar rotateEnd = new Vector2();\n\tvar rotateDelta = new Vector2();\n\n\tvar panStart = new Vector2();\n\tvar panEnd = new Vector2();\n\tvar panDelta = new Vector2();\n\n\tvar dollyStart = new Vector2();\n\tvar dollyEnd = new Vector2();\n\tvar dollyDelta = new Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t} else {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t}\n\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\tvar needsUpdate = false;\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.update();\n\n\t\t}\n\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyStart.set( 0, distance );\n\n\t}\n\n\tfunction handleTouchStartDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\n\n\t}\n\n\tfunction handleTouchStartDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateEnd.set( x, y );\n\n\t\t}\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanEnd.set( x, y );\n\n\t\t}\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t}\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\tdollyOut( dollyDelta.y );\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t}\n\n\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t}\n\n\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t}\n\n\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onPointerDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseDown( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseMove( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseUp( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onMouseDown( event ) {\n\n\t\t// Prevent the browser from scrolling.\n\t\tevent.preventDefault();\n\n\t\t// Manually set the focus since calling preventDefault above\n\t\t// prevents the browser from setting it automatically.\n\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n\t\tvar mouseAction;\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase 0:\n\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tmouseAction = - 1;\n\n\t\t}\n\n\t\tswitch ( mouseAction ) {\n\n\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.PAN:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\n\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\t\tevent.stopPropagation();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\tscope.domElement.addEventListener( 'pointerdown', onPointerDown, false );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\tscope.domElement.addEventListener( 'keydown', onKeyDown, false );\n\n\t// make sure element can receive keys.\n\n\tif ( scope.domElement.tabIndex === - 1 ) {\n\n\t\tscope.domElement.tabIndex = 0;\n\n\t}\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\nOrbitControls.prototype.constructor = OrbitControls;\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nvar MapControls = function ( object, domElement ) {\n\n\tOrbitControls.call( this, object, domElement );\n\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\tthis.touches.ONE = TOUCH.PAN;\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n};\n\nMapControls.prototype = Object.create( EventDispatcher.prototype );\nMapControls.prototype.constructor = MapControls;\n\nexport { OrbitControls, MapControls };\n","import {\n\tAnimationClip,\n\tBone,\n\tBox3,\n\tBufferAttribute,\n\tBufferGeometry,\n\tCanvasTexture,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tDoubleSide,\n\tFileLoader,\n\tFrontSide,\n\tGroup,\n\tImageBitmapLoader,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tInterpolant,\n\tInterpolateDiscrete,\n\tInterpolateLinear,\n\tLine,\n\tLineBasicMaterial,\n\tLineLoop,\n\tLineSegments,\n\tLinearFilter,\n\tLinearMipmapLinearFilter,\n\tLinearMipmapNearestFilter,\n\tLoader,\n\tLoaderUtils,\n\tMaterial,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshPhysicalMaterial,\n\tMeshStandardMaterial,\n\tMirroredRepeatWrapping,\n\tNearestFilter,\n\tNearestMipmapLinearFilter,\n\tNearestMipmapNearestFilter,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPoints,\n\tPointsMaterial,\n\tPropertyBinding,\n\tQuaternionKeyframeTrack,\n\tRGBFormat,\n\tRepeatWrapping,\n\tSkeleton,\n\tSkinnedMesh,\n\tSphere,\n\tSpotLight,\n\tTangentSpaceNormalMap,\n\tTextureLoader,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tVector2,\n\tVector3,\n\tVectorKeyframeTrack,\n\tsRGBEncoding\n} from \"../../../build/three.module.js\";\n\nvar GLTFLoader = ( function () {\n\n\tfunction GLTFLoader( manager ) {\n\n\t\tLoader.call( this, manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ddsLoader = null;\n\t\tthis.ktx2Loader = null;\n\n\t\tthis.pluginCallbacks = [];\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFLightsExtension( parser );\n\n\t\t} );\n\n\t}\n\n\tGLTFLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\t\tconstructor: GLTFLoader,\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tvar resourcePath;\n\n\t\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\t\tresourcePath = this.resourcePath;\n\n\t\t\t} else if ( this.path !== '' ) {\n\n\t\t\t\tresourcePath = this.path;\n\n\t\t\t} else {\n\n\t\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t\t}\n\n\t\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\t\tthis.manager.itemStart( url );\n\n\t\t\tvar _onError = function ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t};\n\n\t\t\tvar loader = new FileLoader( this.manager );\n\n\t\t\tloader.setPath( this.path );\n\t\t\tloader.setResponseType( 'arraybuffer' );\n\t\t\tloader.setRequestHeader( this.requestHeader );\n\t\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\t\tloader.load( url, function ( data ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t\t}, _onError );\n\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t_onError( e );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, _onError );\n\n\t\t},\n\n\t\tsetDRACOLoader: function ( dracoLoader ) {\n\n\t\t\tthis.dracoLoader = dracoLoader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetDDSLoader: function ( ddsLoader ) {\n\n\t\t\tthis.ddsLoader = ddsLoader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetKTX2Loader: function ( ktx2Loader ) {\n\n\t\t\tthis.ktx2Loader = ktx2Loader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tregister: function ( callback ) {\n\n\t\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\n\n\t\t\t\tthis.pluginCallbacks.push( callback );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tunregister: function ( callback ) {\n\n\t\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\n\n\t\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tparse: function ( data, path, onLoad, onError ) {\n\n\t\t\tvar content;\n\t\t\tvar extensions = {};\n\t\t\tvar plugins = {};\n\n\t\t\tif ( typeof data === 'string' ) {\n\n\t\t\t\tcontent = data;\n\n\t\t\t} else {\n\n\t\t\t\tvar magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar json = JSON.parse( content );\n\n\t\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tvar parser = new GLTFParser( json, {\n\n\t\t\t\tpath: path || this.resourcePath || '',\n\t\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\t\tmanager: this.manager,\n\t\t\t\tktx2Loader: this.ktx2Loader\n\n\t\t\t} );\n\n\t\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\n\n\t\t\tfor ( var i = 0; i < this.pluginCallbacks.length; i ++ ) {\n\n\t\t\t\tvar plugin = this.pluginCallbacks[ i ]( parser );\n\t\t\t\tplugins[ plugin.name ] = plugin;\n\n\t\t\t\t// Workaround to avoid determining as unknown extension\n\t\t\t\t// in addUnknownExtensionsToUserData().\n\t\t\t\t// Remove this workaround if we move all the existing\n\t\t\t\t// extension handlers to plugin system\n\t\t\t\textensions[ plugin.name ] = true;\n\n\t\t\t}\n\n\t\t\tif ( json.extensionsUsed ) {\n\n\t\t\t\tfor ( var i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\t\tvar extensionName = json.extensionsUsed[ i ];\n\t\t\t\t\tvar extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.MSFT_TEXTURE_DDS:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureDDSExtension( this.ddsLoader );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tparser.setExtensions( extensions );\n\t\t\tparser.setPlugins( plugins );\n\t\t\tparser.parse( onLoad, onError );\n\n\t\t}\n\n\t} );\n\n\t/* GLTFREGISTRY */\n\n\tfunction GLTFRegistry() {\n\n\t\tvar objects = {};\n\n\t\treturn\t{\n\n\t\t\tget: function ( key ) {\n\n\t\t\t\treturn objects[ key ];\n\n\t\t\t},\n\n\t\t\tadd: function ( key, object ) {\n\n\t\t\t\tobjects[ key ] = object;\n\n\t\t\t},\n\n\t\t\tremove: function ( key ) {\n\n\t\t\t\tdelete objects[ key ];\n\n\t\t\t},\n\n\t\t\tremoveAll: function () {\n\n\t\t\t\tobjects = {};\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t/*********************************/\n\t/********** EXTENSIONS ***********/\n\t/*********************************/\n\n\tvar EXTENSIONS = {\n\t\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\t\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\t\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\t\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n\t\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\t\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n\t\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\t\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n\t\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\t\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n\t\tMSFT_TEXTURE_DDS: 'MSFT_texture_dds'\n\t};\n\n\t/**\n\t * DDS Texture Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\n\t *\n\t */\n\tfunction GLTFTextureDDSExtension( ddsLoader ) {\n\n\t\tif ( ! ddsLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.MSFT_TEXTURE_DDS;\n\t\tthis.ddsLoader = ddsLoader;\n\n\t}\n\n\t/**\n\t * Punctual Lights Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n\t */\n\tfunction GLTFLightsExtension( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\t// Object3D instance caches\n\t\tthis.cache = { refs: {}, uses: {} };\n\n\t}\n\n\tGLTFLightsExtension.prototype._markDefs = function () {\n\n\t\tvar parser = this.parser;\n\t\tvar nodeDefs = this.parser.json.nodes || [];\n\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t&& nodeDef.extensions[ this.name ]\n\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\n\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tGLTFLightsExtension.prototype._loadLight = function ( lightIndex ) {\n\n\t\tvar parser = this.parser;\n\t\tvar cacheKey = 'light:' + lightIndex;\n\t\tvar dependency = parser.cache.get( cacheKey );\n\n\t\tif ( dependency ) return dependency;\n\n\t\tvar json = parser.json;\n\t\tvar extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\n\t\tvar lightDefs = extensions.lights || [];\n\t\tvar lightDef = lightDefs[ lightIndex ];\n\t\tvar lightNode;\n\n\t\tvar color = new Color( 0xffffff );\n\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tvar range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".' );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\n\n\t\tdependency = Promise.resolve( lightNode );\n\n\t\tparser.cache.add( cacheKey, dependency );\n\n\t\treturn dependency;\n\n\t};\n\n\tGLTFLightsExtension.prototype.createNodeAttachment = function ( nodeIndex ) {\n\n\t\tvar self = this;\n\t\tvar parser = this.parser;\n\t\tvar json = parser.json;\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\n\t\tvar lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\n\t\tvar lightIndex = lightDef.light;\n\n\t\tif ( lightIndex === undefined ) return null;\n\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\n\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Unlit Materials Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n\t */\n\tfunction GLTFMaterialsUnlitExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tGLTFMaterialsUnlitExtension.prototype.getMaterialType = function () {\n\n\t\treturn MeshBasicMaterial;\n\n\t};\n\n\tGLTFMaterialsUnlitExtension.prototype.extendParams = function ( materialParams, materialDef, parser ) {\n\n\t\tvar pending = [];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * Clearcoat Materials Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n\t */\n\tfunction GLTFMaterialsClearcoatExtension( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n\n\t}\n\n\tGLTFMaterialsClearcoatExtension.prototype.getMaterialType = function ( materialIndex ) {\n\n\t\tvar parser = this.parser;\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t};\n\n\tGLTFMaterialsClearcoatExtension.prototype.extendMaterialParams = function ( materialIndex, materialParams ) {\n\n\t\tvar parser = this.parser;\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tvar pending = [];\n\n\t\tvar extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.clearcoatFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\n\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\n\n\t\t\t\tvar scale = extension.clearcoatNormalTexture.scale;\n\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * Transmission Materials Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n\t * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n\t */\n\tfunction GLTFMaterialsTransmissionExtension( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n\n\t}\n\n\tGLTFMaterialsTransmissionExtension.prototype.getMaterialType = function ( materialIndex ) {\n\n\t\tvar parser = this.parser;\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t};\n\n\tGLTFMaterialsTransmissionExtension.prototype.extendMaterialParams = function ( materialIndex, materialParams ) {\n\n\t\tvar parser = this.parser;\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tvar pending = [];\n\n\t\tvar extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.transmissionFactor !== undefined ) {\n\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\n\n\t\t}\n\n\t\tif ( extension.transmissionTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * BasisU Texture Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n\t * (draft PR https://github.com/KhronosGroup/glTF/pull/1751)\n\t */\n\tfunction GLTFTextureBasisUExtension( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n\n\t}\n\n\tGLTFTextureBasisUExtension.prototype.loadTexture = function ( textureIndex ) {\n\n\t\tvar parser = this.parser;\n\t\tvar json = parser.json;\n\n\t\tvar textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar extension = textureDef.extensions[ this.name ];\n\t\tvar source = json.images[ extension.source ];\n\t\tvar loader = parser.options.ktx2Loader;\n\n\t\tif ( ! loader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\n\n\t\t}\n\n\t\treturn parser.loadTextureImage( textureIndex, source, loader );\n\n\t};\n\n\t/* BINARY EXTENSION */\n\tvar BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\n\tvar BINARY_EXTENSION_HEADER_LENGTH = 12;\n\tvar BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\n\tfunction GLTFBinaryExtension( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tvar headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tthis.header = {\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\n\n\t\t}\n\n\t\tvar chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tvar chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkView.byteLength ) {\n\n\t\t\tvar chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tvar chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tvar contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tvar byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * DRACO Mesh Compression Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n\t */\n\tfunction GLTFDracoMeshCompressionExtension( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\t\tthis.dracoLoader.preload();\n\n\t}\n\n\tGLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function ( primitive, parser ) {\n\n\t\tvar json = this.json;\n\t\tvar dracoLoader = this.dracoLoader;\n\t\tvar bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tvar gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tvar threeAttributeMap = {};\n\t\tvar attributeNormalizedMap = {};\n\t\tvar attributeTypeMap = {};\n\n\t\tfor ( var attributeName in gltfAttributeMap ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( attributeName in primitive.attributes ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tvar accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tvar componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( var attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tvar attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tvar normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Texture Transform Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n\t */\n\tfunction GLTFTextureTransformExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\tGLTFTextureTransformExtension.prototype.extendTexture = function ( texture, transform ) {\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t};\n\n\t/**\n\t * Specular-Glossiness Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n\t */\n\n\t/**\n\t * A sub class of StandardMaterial with some of the functionality\n\t * changed via the `onBeforeCompile` callback\n\t * @pailhead\n\t */\n\n\tfunction GLTFMeshStandardSGMaterial( params ) {\n\n\t\tMeshStandardMaterial.call( this );\n\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t//various chunks that need replacing\n\t\tvar specularMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar glossinessMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar specularMapFragmentChunk = [\n\t\t\t'vec3 specularFactor = specular;',\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar glossinessMapFragmentChunk = [\n\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar lightPhysicalFragmentChunk = [\n\t\t\t'PhysicalMaterial material;',\n\t\t\t'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );',\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\n\t\t\t'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.',\n\t\t\t'material.specularRoughness += geometryRoughness;',\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\n\t\t\t'material.specularColor = specularFactor;',\n\t\t].join( '\\n' );\n\n\t\tvar uniforms = {\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\n\t\t\tglossiness: { value: 1 },\n\t\t\tspecularMap: { value: null },\n\t\t\tglossinessMap: { value: null }\n\t\t};\n\n\t\tthis._extraUniforms = uniforms;\n\n\t\tthis.onBeforeCompile = function ( shader ) {\n\n\t\t\tfor ( var uniformName in uniforms ) {\n\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\n\n\t\t\t}\n\n\t\t\tshader.fragmentShader = shader.fragmentShader\n\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\n\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\n\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\n\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t};\n\n\t\tObject.defineProperties( this, {\n\n\t\t\tspecular: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specular.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specular.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tspecularMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specularMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specularMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_SPECULARMAP;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossiness: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossiness.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossiness.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossinessMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossinessMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossinessMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\n\t\t\t\t\t\tthis.defines.USE_UV = '';\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\n\t\t\t\t\t\tdelete this.defines.USE_UV;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t} );\n\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\n\t\tthis.setValues( params );\n\n\t}\n\n\tGLTFMeshStandardSGMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\n\tGLTFMeshStandardSGMaterial.prototype.constructor = GLTFMeshStandardSGMaterial;\n\n\tGLTFMeshStandardSGMaterial.prototype.copy = function ( source ) {\n\n\t\tMeshStandardMaterial.prototype.copy.call( this, source );\n\t\tthis.specularMap = source.specularMap;\n\t\tthis.specular.copy( source.specular );\n\t\tthis.glossinessMap = source.glossinessMap;\n\t\tthis.glossiness = source.glossiness;\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\t\treturn this;\n\n\t};\n\n\tfunction GLTFMaterialsPbrSpecularGlossinessExtension() {\n\n\t\treturn {\n\n\t\t\tname: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\n\n\t\t\tspecularGlossinessParams: [\n\t\t\t\t'color',\n\t\t\t\t'map',\n\t\t\t\t'lightMap',\n\t\t\t\t'lightMapIntensity',\n\t\t\t\t'aoMap',\n\t\t\t\t'aoMapIntensity',\n\t\t\t\t'emissive',\n\t\t\t\t'emissiveIntensity',\n\t\t\t\t'emissiveMap',\n\t\t\t\t'bumpMap',\n\t\t\t\t'bumpScale',\n\t\t\t\t'normalMap',\n\t\t\t\t'normalMapType',\n\t\t\t\t'displacementMap',\n\t\t\t\t'displacementScale',\n\t\t\t\t'displacementBias',\n\t\t\t\t'specularMap',\n\t\t\t\t'specular',\n\t\t\t\t'glossinessMap',\n\t\t\t\t'glossiness',\n\t\t\t\t'alphaMap',\n\t\t\t\t'envMap',\n\t\t\t\t'envMapIntensity',\n\t\t\t\t'refractionRatio',\n\t\t\t],\n\n\t\t\tgetMaterialType: function () {\n\n\t\t\t\treturn GLTFMeshStandardSGMaterial;\n\n\t\t\t},\n\n\t\t\textendParams: function ( materialParams, materialDef, parser ) {\n\n\t\t\t\tvar pbrSpecularGlossiness = materialDef.extensions[ this.name ];\n\n\t\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\t\tvar pending = [];\n\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\t\t\tvar array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\n\n\t\t\t\t}\n\n\t\t\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\n\t\t\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\t\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\n\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t\t\t}\n\n\t\t\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\t\t\tvar specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pending );\n\n\t\t\t},\n\n\t\t\tcreateMaterial: function ( materialParams ) {\n\n\t\t\t\tvar material = new GLTFMeshStandardSGMaterial( materialParams );\n\t\t\t\tmaterial.fog = true;\n\n\t\t\t\tmaterial.color = materialParams.color;\n\n\t\t\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\n\n\t\t\t\tmaterial.lightMap = null;\n\t\t\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\t\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n\t\t\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\t\t\tmaterial.emissive = materialParams.emissive;\n\t\t\t\tmaterial.emissiveIntensity = 1.0;\n\t\t\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n\n\t\t\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n\t\t\t\tmaterial.bumpScale = 1;\n\n\t\t\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n\t\t\t\tmaterial.normalMapType = TangentSpaceNormalMap;\n\n\t\t\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\n\n\t\t\t\tmaterial.displacementMap = null;\n\t\t\t\tmaterial.displacementScale = 1;\n\t\t\t\tmaterial.displacementBias = 0;\n\n\t\t\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n\t\t\t\tmaterial.specular = materialParams.specular;\n\n\t\t\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n\t\t\t\tmaterial.glossiness = materialParams.glossiness;\n\n\t\t\t\tmaterial.alphaMap = null;\n\n\t\t\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n\t\t\t\tmaterial.envMapIntensity = 1.0;\n\n\t\t\t\tmaterial.refractionRatio = 0.98;\n\n\t\t\t\treturn material;\n\n\t\t\t},\n\n\t\t};\n\n\t}\n\n\t/**\n\t * Mesh Quantization Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n\t */\n\tfunction GLTFMeshQuantizationExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n\t}\n\n\t/*********************************/\n\t/********** INTERPOLATION ********/\n\t/*********************************/\n\n\t// Spline Interpolation\n\t// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\tfunction GLTFCubicSplineInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tGLTFCubicSplineInterpolant.prototype = Object.create( Interpolant.prototype );\n\tGLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\n\n\tGLTFCubicSplineInterpolant.prototype.copySampleValue_ = function ( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( var i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t};\n\n\tGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n\tGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n\tGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer;\n\t\tvar values = this.sampleValues;\n\t\tvar stride = this.valueSize;\n\n\t\tvar stride2 = stride * 2;\n\t\tvar stride3 = stride * 3;\n\n\t\tvar td = t1 - t0;\n\n\t\tvar p = ( t - t0 ) / td;\n\t\tvar pp = p * p;\n\t\tvar ppp = pp * p;\n\n\t\tvar offset1 = i1 * stride3;\n\t\tvar offset0 = offset1 - stride3;\n\n\t\tvar s2 = - 2 * ppp + 3 * pp;\n\t\tvar s3 = ppp - pp;\n\t\tvar s0 = 1 - s2;\n\t\tvar s1 = s3 - pp + p;\n\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\t\tfor ( var i = 0; i !== stride; i ++ ) {\n\n\t\t\tvar p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\t\tvar m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\t\tvar p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\t\tvar m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t\t}\n\n\t\treturn result;\n\n\t};\n\n\t/*********************************/\n\t/********** INTERNALS ************/\n\t/*********************************/\n\n\t/* CONSTANTS */\n\n\tvar WEBGL_CONSTANTS = {\n\t\tFLOAT: 5126,\n\t\t//FLOAT_MAT2: 35674,\n\t\tFLOAT_MAT3: 35675,\n\t\tFLOAT_MAT4: 35676,\n\t\tFLOAT_VEC2: 35664,\n\t\tFLOAT_VEC3: 35665,\n\t\tFLOAT_VEC4: 35666,\n\t\tLINEAR: 9729,\n\t\tREPEAT: 10497,\n\t\tSAMPLER_2D: 35678,\n\t\tPOINTS: 0,\n\t\tLINES: 1,\n\t\tLINE_LOOP: 2,\n\t\tLINE_STRIP: 3,\n\t\tTRIANGLES: 4,\n\t\tTRIANGLE_STRIP: 5,\n\t\tTRIANGLE_FAN: 6,\n\t\tUNSIGNED_BYTE: 5121,\n\t\tUNSIGNED_SHORT: 5123\n\t};\n\n\tvar WEBGL_COMPONENT_TYPES = {\n\t\t5120: Int8Array,\n\t\t5121: Uint8Array,\n\t\t5122: Int16Array,\n\t\t5123: Uint16Array,\n\t\t5125: Uint32Array,\n\t\t5126: Float32Array\n\t};\n\n\tvar WEBGL_FILTERS = {\n\t\t9728: NearestFilter,\n\t\t9729: LinearFilter,\n\t\t9984: NearestMipmapNearestFilter,\n\t\t9985: LinearMipmapNearestFilter,\n\t\t9986: NearestMipmapLinearFilter,\n\t\t9987: LinearMipmapLinearFilter\n\t};\n\n\tvar WEBGL_WRAPPINGS = {\n\t\t33071: ClampToEdgeWrapping,\n\t\t33648: MirroredRepeatWrapping,\n\t\t10497: RepeatWrapping\n\t};\n\n\tvar WEBGL_TYPE_SIZES = {\n\t\t'SCALAR': 1,\n\t\t'VEC2': 2,\n\t\t'VEC3': 3,\n\t\t'VEC4': 4,\n\t\t'MAT2': 4,\n\t\t'MAT3': 9,\n\t\t'MAT4': 16\n\t};\n\n\tvar ATTRIBUTES = {\n\t\tPOSITION: 'position',\n\t\tNORMAL: 'normal',\n\t\tTANGENT: 'tangent',\n\t\tTEXCOORD_0: 'uv',\n\t\tTEXCOORD_1: 'uv2',\n\t\tCOLOR_0: 'color',\n\t\tWEIGHTS_0: 'skinWeight',\n\t\tJOINTS_0: 'skinIndex',\n\t};\n\n\tvar PATH_PROPERTIES = {\n\t\tscale: 'scale',\n\t\ttranslation: 'position',\n\t\trotation: 'quaternion',\n\t\tweights: 'morphTargetInfluences'\n\t};\n\n\tvar INTERPOLATION = {\n\t\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\t\tLINEAR: InterpolateLinear,\n\t\tSTEP: InterpolateDiscrete\n\t};\n\n\tvar ALPHA_MODES = {\n\t\tOPAQUE: 'OPAQUE',\n\t\tMASK: 'MASK',\n\t\tBLEND: 'BLEND'\n\t};\n\n\t/* UTILITY FUNCTIONS */\n\n\tfunction resolveURL( url, path ) {\n\n\t\t// Invalid URL\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t\t// Host Relative URL\n\t\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\n\n\t\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\n\n\t\t}\n\n\t\t// Absolute URL http://,https://,//\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t\t// Data URI\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t\t// Blob URL\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t\t// Relative URL\n\t\treturn path + url;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n\t */\n\tfunction createDefaultMaterial( cache ) {\n\n\t\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\n\n\t\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\n\t\t\t\tcolor: 0xFFFFFF,\n\t\t\t\temissive: 0x000000,\n\t\t\t\tmetalness: 1,\n\t\t\t\troughness: 1,\n\t\t\t\ttransparent: false,\n\t\t\t\tdepthTest: true,\n\t\t\t\tside: FrontSide\n\t\t\t} );\n\n\t\t}\n\n\t\treturn cache[ 'DefaultMaterial' ];\n\n\t}\n\n\tfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t\t// Add unknown glTF extensions to an object's userData.\n\n\t\tfor ( var name in objectDef.extensions ) {\n\n\t\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * @param {Object3D|Material|BufferGeometry} object\n\t * @param {GLTF.definition} gltfDef\n\t */\n\tfunction assignExtrasToUserData( object, gltfDef ) {\n\n\t\tif ( gltfDef.extras !== undefined ) {\n\n\t\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n\t *\n\t * @param {BufferGeometry} geometry\n\t * @param {Array<GLTF.Target>} targets\n\t * @param {GLTFParser} parser\n\t * @return {Promise<BufferGeometry>}\n\t */\n\tfunction addMorphTargets( geometry, targets, parser ) {\n\n\t\tvar hasMorphPosition = false;\n\t\tvar hasMorphNormal = false;\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\n\t\t\tif ( hasMorphPosition && hasMorphNormal ) break;\n\n\t\t}\n\n\t\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\n\n\t\tvar pendingPositionAccessors = [];\n\t\tvar pendingNormalAccessors = [];\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( hasMorphPosition ) {\n\n\t\t\t\tvar pendingAccessor = target.POSITION !== undefined\n\t\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t\t: geometry.attributes.position;\n\n\t\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t\t}\n\n\t\t\tif ( hasMorphNormal ) {\n\n\t\t\t\tvar pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t\t: geometry.attributes.normal;\n\n\t\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( [\n\t\t\tPromise.all( pendingPositionAccessors ),\n\t\t\tPromise.all( pendingNormalAccessors )\n\t\t] ).then( function ( accessors ) {\n\n\t\t\tvar morphPositions = accessors[ 0 ];\n\t\t\tvar morphNormals = accessors[ 1 ];\n\n\t\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t\treturn geometry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * @param {Mesh} mesh\n\t * @param {GLTF.Mesh} meshDef\n\t */\n\tfunction updateMorphTargets( mesh, meshDef ) {\n\n\t\tmesh.updateMorphTargets();\n\n\t\tif ( meshDef.weights !== undefined ) {\n\n\t\t\tfor ( var i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\t\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\t\tvar targetNames = meshDef.extras.targetNames;\n\n\t\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\t\tfor ( var i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createPrimitiveKey( primitiveDef ) {\n\n\t\tvar dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\t\tvar geometryKey;\n\n\t\tif ( dracoExtension ) {\n\n\t\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t\t} else {\n\n\t\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t\t}\n\n\t\treturn geometryKey;\n\n\t}\n\n\tfunction createAttributesKey( attributes ) {\n\n\t\tvar attributesKey = '';\n\n\t\tvar keys = Object.keys( attributes ).sort();\n\n\t\tfor ( var i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t\t}\n\n\t\treturn attributesKey;\n\n\t}\n\n\t/* GLTF PARSER */\n\n\tfunction GLTFParser( json, options ) {\n\n\t\tthis.json = json || {};\n\t\tthis.extensions = {};\n\t\tthis.plugins = {};\n\t\tthis.options = options || {};\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// associations between Three.js objects and glTF elements\n\t\tthis.associations = new Map();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\t// Object3D instance caches\n\t\tthis.meshCache = { refs: {}, uses: {} };\n\t\tthis.cameraCache = { refs: {}, uses: {} };\n\t\tthis.lightCache = { refs: {}, uses: {} };\n\n\t\t// Track node names, to ensure no duplicates\n\t\tthis.nodeNamesUsed = {};\n\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\n\t\tif ( typeof createImageBitmap !== 'undefined' && /Firefox/.test( navigator.userAgent ) === false ) {\n\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\n\n\t\t} else {\n\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\n\n\t\t}\n\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tGLTFParser.prototype.setExtensions = function ( extensions ) {\n\n\t\tthis.extensions = extensions;\n\n\t};\n\n\tGLTFParser.prototype.setPlugins = function ( plugins ) {\n\n\t\tthis.plugins = plugins;\n\n\t};\n\n\tGLTFParser.prototype.parse = function ( onLoad, onError ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis._invokeAll( function ( ext ) {\n\n\t\t\treturn ext._markDefs && ext._markDefs();\n\n\t\t} );\n\n\t\tPromise.all( [\n\n\t\t\tthis.getDependencies( 'scene' ),\n\t\t\tthis.getDependencies( 'animation' ),\n\t\t\tthis.getDependencies( 'camera' ),\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\tonLoad( result );\n\n\t\t} ).catch( onError );\n\n\t};\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\tGLTFParser.prototype._markDefs = function () {\n\n\t\tvar nodeDefs = this.json.nodes || [];\n\t\tvar skinDefs = this.json.skins || [];\n\t\tvar meshDefs = this.json.meshes || [];\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tvar joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( var i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Iterate over all nodes, marking references to shared resources,\n\t\t// as well as skeleton joints.\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Counts references to shared node / Object3D resources. These resources\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\n\t * Textures) can be reused directly and are not marked here.\n\t *\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t */\n\tGLTFParser.prototype._addNodeRef = function ( cache, index ) {\n\n\t\tif ( index === undefined ) return;\n\n\t\tif ( cache.refs[ index ] === undefined ) {\n\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\n\n\t\t}\n\n\t\tcache.refs[ index ] ++;\n\n\t};\n\n\t/** Returns a reference to a shared resource, cloning it if necessary. */\n\tGLTFParser.prototype._getNodeRef = function ( cache, index, object ) {\n\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\n\n\t\tvar ref = object.clone();\n\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\n\n\t\treturn ref;\n\n\t};\n\n\tGLTFParser.prototype._invokeOne = function ( func ) {\n\n\t\tvar extensions = Object.values( this.plugins );\n\t\textensions.push( this );\n\n\t\tfor ( var i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tvar result = func( extensions[ i ] );\n\n\t\t\tif ( result ) return result;\n\n\t\t}\n\n\t};\n\n\tGLTFParser.prototype._invokeAll = function ( func ) {\n\n\t\tvar extensions = Object.values( this.plugins );\n\t\textensions.unshift( this );\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tvar result = func( extensions[ i ] );\n\n\t\t\tif ( result ) pending.push( result );\n\n\t\t}\n\n\t\treturn pending;\n\n\t};\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n\t */\n\tGLTFParser.prototype.getDependency = function ( type, index ) {\n\n\t\tvar cacheKey = type + ':' + index;\n\t\tvar dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this.loadNode( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this.loadAnimation( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t};\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tGLTFParser.prototype.getDependencies = function ( type ) {\n\n\t\tvar dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tvar parser = this;\n\t\t\tvar defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tGLTFParser.prototype.loadBuffer = function ( bufferIndex ) {\n\n\t\tvar bufferDef = this.json.buffers[ bufferIndex ];\n\t\tvar loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tvar options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tGLTFParser.prototype.loadBufferView = function ( bufferViewIndex ) {\n\n\t\tvar bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tvar byteLength = bufferViewDef.byteLength || 0;\n\t\t\tvar byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n\t */\n\tGLTFParser.prototype.loadAccessor = function ( accessorIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\n\t\tvar accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t\t// information about attributes coming from another source (e.g. Draco\n\t\t\t// compression extension).\n\t\t\treturn Promise.resolve( null );\n\n\t\t}\n\n\t\tvar pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tvar bufferView = bufferViews[ 0 ];\n\n\t\t\tvar itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tvar TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tvar elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tvar itemBytes = elementBytes * itemSize;\n\t\t\tvar byteOffset = accessorDef.byteOffset || 0;\n\t\t\tvar byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tvar normalized = accessorDef.normalized === true;\n\t\t\tvar array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tvar ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tvar ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tvar ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tvar itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tvar TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tvar byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tvar byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tvar sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tvar sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture>}\n\t */\n\tGLTFParser.prototype.loadTexture = function ( textureIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar options = this.options;\n\n\t\tvar textureDef = json.textures[ textureIndex ];\n\n\t\tvar textureExtensions = textureDef.extensions || {};\n\n\t\tvar source;\n\n\t\tif ( textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] ) {\n\n\t\t\tsource = json.images[ textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].source ];\n\n\t\t} else {\n\n\t\t\tsource = json.images[ textureDef.source ];\n\n\t\t}\n\n\t\tvar loader;\n\n\t\tif ( source.uri ) {\n\n\t\t\tloader = options.manager.getHandler( source.uri );\n\n\t\t}\n\n\t\tif ( ! loader ) {\n\n\t\t\tloader = textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ]\n\t\t\t\t? parser.extensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].ddsLoader\n\t\t\t\t: this.textureLoader;\n\n\t\t}\n\n\t\treturn this.loadTextureImage( textureIndex, source, loader );\n\n\t};\n\n\tGLTFParser.prototype.loadTextureImage = function ( textureIndex, source, loader ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar options = this.options;\n\n\t\tvar textureDef = json.textures[ textureIndex ];\n\n\t\tvar URL = self.URL || self.webkitURL;\n\n\t\tvar sourceURI = source.uri;\n\t\tvar isObjectURL = false;\n\t\tvar hasAlpha = true;\n\n\t\tif ( source.mimeType === 'image/jpeg' ) hasAlpha = false;\n\n\t\tif ( source.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tif ( source.mimeType === 'image/png' ) {\n\n\t\t\t\t\t// Inspect the PNG 'IHDR' chunk to determine whether the image could have an\n\t\t\t\t\t// alpha channel. This check is conservative  the image could have an alpha\n\t\t\t\t\t// channel with all values == 1, and the indexed type (colorType == 3) only\n\t\t\t\t\t// sometimes contains alpha.\n\t\t\t\t\t//\n\t\t\t\t\t// https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\n\t\t\t\t\tvar colorType = new DataView( bufferView, 25, 1 ).getUint8( 0, false );\n\t\t\t\t\thasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\n\n\t\t\t\t}\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tvar blob = new Blob( [ bufferView ], { type: source.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tvar onLoad = resolve;\n\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\n\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\n\n\t\t\t\t\t\tresolve( new CanvasTexture( imageBitmap ) );\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t\tloader.load( resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.flipY = false;\n\n\t\t\tif ( textureDef.name ) texture.name = textureDef.name;\n\n\t\t\t// When there is definitely no alpha channel in the texture, set RGBFormat to save space.\n\t\t\tif ( ! hasAlpha ) texture.format = RGBFormat;\n\n\t\t\tvar samplers = json.samplers || {};\n\t\t\tvar sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\n\t\t\tparser.associations.set( texture, {\n\t\t\t\ttype: 'textures',\n\t\t\t\tindex: textureIndex\n\t\t\t} );\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise}\n\t */\n\tGLTFParser.prototype.assignTexture = function ( materialParams, mapName, mapDef ) {\n\n\t\tvar parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tvar transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\tvar gltfReference = parser.associations.get( texture );\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accomodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tGLTFParser.prototype.assignFinalMaterial = function ( mesh ) {\n\n\t\tvar geometry = mesh.geometry;\n\t\tvar material = mesh.material;\n\n\t\tvar useVertexTangents = geometry.attributes.tangent !== undefined;\n\t\tvar useVertexColors = geometry.attributes.color !== undefined;\n\t\tvar useFlatShading = geometry.attributes.normal === undefined;\n\t\tvar useSkinning = mesh.isSkinnedMesh === true;\n\t\tvar useMorphTargets = Object.keys( geometry.morphAttributes ).length > 0;\n\t\tvar useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tvar cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tvar pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tvar cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tvar lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets ) {\n\n\t\t\tvar cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\tif ( useSkinning ) cacheKey += 'skinning:';\n\t\t\tif ( useVertexTangents ) cacheKey += 'vertex-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\t\t\tif ( useMorphTargets ) cacheKey += 'morph-targets:';\n\t\t\tif ( useMorphNormals ) cacheKey += 'morph-normals:';\n\n\t\t\tvar cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.clone();\n\n\t\t\t\tif ( useSkinning ) cachedMaterial.skinning = true;\n\t\t\t\tif ( useVertexTangents ) cachedMaterial.vertexTangents = true;\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\t\t\t\tif ( useMorphTargets ) cachedMaterial.morphTargets = true;\n\t\t\t\tif ( useMorphNormals ) cachedMaterial.morphNormals = true;\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\t// workarounds for mesh and geometry\n\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\tgeometry.setAttribute( 'uv2', geometry.attributes.uv );\n\n\t\t}\n\n\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\tif ( material.normalScale && ! useVertexTangents ) {\n\n\t\t\tmaterial.normalScale.y = - material.normalScale.y;\n\n\t\t}\n\n\t\tif ( material.clearcoatNormalScale && ! useVertexTangents ) {\n\n\t\t\tmaterial.clearcoatNormalScale.y = - material.clearcoatNormalScale.y;\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t};\n\n\tGLTFParser.prototype.getMaterialType = function ( /* materialIndex */ ) {\n\n\t\treturn MeshStandardMaterial;\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<Material>}\n\t */\n\tGLTFParser.prototype.loadMaterial = function ( materialIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar materialDef = json.materials[ materialIndex ];\n\n\t\tvar materialType;\n\t\tvar materialParams = {};\n\t\tvar materialExtensions = materialDef.extensions || {};\n\n\t\tvar pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\t\tvar sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\t\tmaterialType = sgExtension.getMaterialType();\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tvar kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\n\n\t\t\t} );\n\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\n\n\t\t\t} ) ) );\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = DoubleSide;\n\n\t\t}\n\n\t\tvar alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\n\t\t\tmaterialParams.depthWrite = false;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, materialDef.normalTexture.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tvar material;\n\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\n\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new materialType( materialParams );\n\n\t\t\t}\n\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\n\n\t\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\t\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tparser.associations.set( material, { type: 'materials', index: materialIndex } );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t};\n\n\t/** When Object3D instances are targeted by animation, they need unique names. */\n\tGLTFParser.prototype.createUniqueName = function ( originalName ) {\n\n\t\tvar name = PropertyBinding.sanitizeNodeName( originalName || '' );\n\n\t\tfor ( var i = 1; this.nodeNamesUsed[ name ]; ++ i ) {\n\n\t\t\tname = originalName + '_' + i;\n\n\t\t}\n\n\t\tthis.nodeNamesUsed[ name ] = true;\n\n\t\treturn name;\n\n\t};\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {GLTF.Primitive} primitiveDef\n\t * @param {GLTFParser} parser\n\t */\n\tfunction computeBounds( geometry, primitiveDef, parser ) {\n\n\t\tvar attributes = primitiveDef.attributes;\n\n\t\tvar box = new Box3();\n\n\t\tif ( attributes.POSITION !== undefined ) {\n\n\t\t\tvar accessor = parser.json.accessors[ attributes.POSITION ];\n\n\t\t\tvar min = accessor.min;\n\t\t\tvar max = accessor.max;\n\n\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\tbox.set(\n\t\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\n\t\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar targets = primitiveDef.targets;\n\n\t\tif ( targets !== undefined ) {\n\n\t\t\tvar maxDisplacement = new Vector3();\n\t\t\tvar vector = new Vector3();\n\n\t\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\t\tvar target = targets[ i ];\n\n\t\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\t\tvar accessor = parser.json.accessors[ target.POSITION ];\n\t\t\t\t\tvar min = accessor.min;\n\t\t\t\t\tvar max = accessor.max;\n\n\t\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\n\t\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\n\t\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\n\t\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\n\n\t\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n\t\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n\t\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\n\t\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\t\t\t\t\t\tmaxDisplacement.max( vector );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\t\t\tbox.expandByVector( maxDisplacement );\n\n\t\t}\n\n\t\tgeometry.boundingBox = box;\n\n\t\tvar sphere = new Sphere();\n\n\t\tbox.getCenter( sphere.center );\n\t\tsphere.radius = box.min.distanceTo( box.max ) / 2;\n\n\t\tgeometry.boundingSphere = sphere;\n\n\t}\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {GLTF.Primitive} primitiveDef\n\t * @param {GLTFParser} parser\n\t * @return {Promise<BufferGeometry>}\n\t */\n\tfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\t\tvar attributes = primitiveDef.attributes;\n\n\t\tvar pending = [];\n\n\t\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t\t.then( function ( accessor ) {\n\n\t\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tfor ( var gltfAttributeName in attributes ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t\t}\n\n\t\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\t\tvar accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\t\tgeometry.setIndex( accessor );\n\n\t\t\t} );\n\n\t\t\tpending.push( accessor );\n\n\t\t}\n\n\t\tassignExtrasToUserData( geometry, primitiveDef );\n\n\t\tcomputeBounds( geometry, primitiveDef, parser );\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\treturn primitiveDef.targets !== undefined\n\t\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t\t: geometry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {Number} drawMode\n\t * @return {BufferGeometry}\n\t */\n\tfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\t\tvar index = geometry.getIndex();\n\n\t\t// generate index if not present\n\n\t\tif ( index === null ) {\n\n\t\t\tvar indices = [];\n\n\t\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\t\tif ( position !== undefined ) {\n\n\t\t\t\tfor ( var i = 0; i < position.count; i ++ ) {\n\n\t\t\t\t\tindices.push( i );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setIndex( indices );\n\t\t\t\tindex = geometry.getIndex();\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\t\treturn geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar numberOfTriangles = index.count - 2;\n\t\tvar newIndices = [];\n\n\t\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t\t// gl.TRIANGLE_FAN\n\n\t\t\tfor ( var i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// gl.TRIANGLE_STRIP\n\n\t\t\tfor ( var i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t\t}\n\n\t\t// build final geometry\n\n\t\tvar newGeometry = geometry.clone();\n\t\tnewGeometry.setIndex( newIndices );\n\n\t\treturn newGeometry;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<BufferGeometry>>}\n\t */\n\tGLTFParser.prototype.loadGeometries = function ( primitives ) {\n\n\t\tvar parser = this;\n\t\tvar extensions = this.extensions;\n\t\tvar cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tvar primitive = primitives[ i ];\n\t\t\tvar cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tvar cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tvar geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\n\t */\n\tGLTFParser.prototype.loadMesh = function ( meshIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\n\t\tvar meshDef = json.meshes[ meshIndex ];\n\t\tvar primitives = meshDef.primitives;\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tvar material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial( this.cache )\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\tpending.push( parser.loadGeometries( primitives ) );\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tvar materials = results.slice( 0, results.length - 1 );\n\t\t\tvar geometries = results[ results.length - 1 ];\n\n\t\t\tvar meshes = [];\n\n\t\t\tfor ( var i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\tvar geometry = geometries[ i ];\n\t\t\t\tvar primitive = primitives[ i ];\n\n\t\t\t\t// 1. create Mesh\n\n\t\t\t\tvar mesh;\n\n\t\t\t\tvar material = materials[ i ];\n\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\n\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t}\n\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\n\n\t\t\t\tif ( geometries.length > 1 ) mesh.name += '_' + i;\n\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\tmeshes.push( mesh );\n\n\t\t\t}\n\n\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t}\n\n\t\t\tvar group = new Group();\n\n\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tGLTFParser.prototype.loadCamera = function ( cameraIndex ) {\n\n\t\tvar camera;\n\t\tvar cameraDef = this.json.cameras[ cameraIndex ];\n\t\tvar params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Object>}\n\t */\n\tGLTFParser.prototype.loadSkin = function ( skinIndex ) {\n\n\t\tvar skinDef = this.json.skins[ skinIndex ];\n\n\t\tvar skinEntry = { joints: skinDef.joints };\n\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\t\treturn Promise.resolve( skinEntry );\n\n\t\t}\n\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\t\treturn skinEntry;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<AnimationClip>}\n\t */\n\tGLTFParser.prototype.loadAnimation = function ( animationIndex ) {\n\n\t\tvar json = this.json;\n\n\t\tvar animationDef = json.animations[ animationIndex ];\n\n\t\tvar pendingNodes = [];\n\t\tvar pendingInputAccessors = [];\n\t\tvar pendingOutputAccessors = [];\n\t\tvar pendingSamplers = [];\n\t\tvar pendingTargets = [];\n\n\t\tfor ( var i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tvar channel = animationDef.channels[ i ];\n\t\t\tvar sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tvar target = channel.target;\n\t\t\tvar name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\t\tvar input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tvar output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar nodes = dependencies[ 0 ];\n\t\t\tvar inputAccessors = dependencies[ 1 ];\n\t\t\tvar outputAccessors = dependencies[ 2 ];\n\t\t\tvar samplers = dependencies[ 3 ];\n\t\t\tvar targets = dependencies[ 4 ];\n\n\t\t\tvar tracks = [];\n\n\t\t\tfor ( var i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tvar node = nodes[ i ];\n\t\t\t\tvar inputAccessor = inputAccessors[ i ];\n\t\t\t\tvar outputAccessor = outputAccessors[ i ];\n\t\t\t\tvar sampler = samplers[ i ];\n\t\t\t\tvar target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\tvar TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tvar targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tvar interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\t\t\t\tvar targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\t// Node may be a Group (glTF mesh with several primitives) or a Mesh.\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tvar outputArray = outputAccessor.array;\n\n\t\t\t\tif ( outputAccessor.normalized ) {\n\n\t\t\t\t\tvar scale;\n\n\t\t\t\t\tif ( outputArray.constructor === Int8Array ) {\n\n\t\t\t\t\t\tscale = 1 / 127;\n\n\t\t\t\t\t} else if ( outputArray.constructor === Uint8Array ) {\n\n\t\t\t\t\t\tscale = 1 / 255;\n\n\t\t\t\t\t} else if ( outputArray.constructor == Int16Array ) {\n\n\t\t\t\t\t\tscale = 1 / 32767;\n\n\t\t\t\t\t} else if ( outputArray.constructor === Uint16Array ) {\n\n\t\t\t\t\t\tscale = 1 / 65535;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported output accessor component type.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar scaled = new Float32Array( outputArray.length );\n\n\t\t\t\t\tfor ( var j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutputArray = scaled;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputArray,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n\n\t\t\treturn new AnimationClip( name, undefined, tracks );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<Object3D>}\n\t */\n\tGLTFParser.prototype.loadNode = function ( nodeIndex ) {\n\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar parser = this;\n\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\n\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\n\t\tvar nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\n\n\t\treturn ( function () {\n\n\t\t\tvar pending = [];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\t\t\tvar node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\n\n\t\t\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\t\t\tfor ( var i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn node;\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\n\n\t\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tparser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\n\n\t\t\t} ).forEach( function ( promise ) {\n\n\t\t\t\tpending.push( promise );\n\n\t\t\t} );\n\n\t\t\treturn Promise.all( pending );\n\n\t\t}() ).then( function ( objects ) {\n\n\t\t\tvar node;\n\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = nodeName;\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tvar matrix = new Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix4( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tparser.associations.set( node, { type: 'nodes', index: nodeIndex } );\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<Group>}\n\t */\n\tGLTFParser.prototype.loadScene = function () {\n\n\t\t// scene node hierachy builder\n\n\t\tfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\n\n\t\t\tvar nodeDef = json.nodes[ nodeId ];\n\n\t\t\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\t\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t\t\t// build skeleton here as well\n\n\t\t\t\tvar skinEntry;\n\n\t\t\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\t\t\tskinEntry = skin;\n\n\t\t\t\t\tvar pendingJoints = [];\n\n\t\t\t\t\tfor ( var i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.all( pendingJoints );\n\n\t\t\t\t} ).then( function ( jointNodes ) {\n\n\t\t\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\t\t\tif ( ! mesh.isMesh ) return;\n\n\t\t\t\t\t\tvar bones = [];\n\t\t\t\t\t\tvar boneInverses = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar jointNode = jointNodes[ j ];\n\n\t\t\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\t\t\tvar mat = new Matrix4();\n\n\t\t\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn node;\n\n\t\t\t\t} );\n\n\t\t\t} ).then( function ( node ) {\n\n\t\t\t\t// build node hierachy\n\n\t\t\t\tparentObject.add( node );\n\n\t\t\t\tvar pending = [];\n\n\t\t\t\tif ( nodeDef.children ) {\n\n\t\t\t\t\tvar children = nodeDef.children;\n\n\t\t\t\t\tfor ( var i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar child = children[ i ];\n\t\t\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pending );\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn function loadScene( sceneIndex ) {\n\n\t\t\tvar json = this.json;\n\t\t\tvar extensions = this.extensions;\n\t\t\tvar sceneDef = this.json.scenes[ sceneIndex ];\n\t\t\tvar parser = this;\n\n\t\t\t// Loader returns Group, not Scene.\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\t\t\tvar scene = new Group();\n\t\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\n\n\t\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\t\tvar nodeIds = sceneDef.nodes || [];\n\n\t\t\tvar pending = [];\n\n\t\t\tfor ( var i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\t\treturn scene;\n\n\t\t\t} );\n\n\t\t};\n\n\t}();\n\n\treturn GLTFLoader;\n\n} )();\n\nexport { GLTFLoader };\n","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tFileLoader,\n\tLoader\n} from \"../../../build/three.module.js\";\n\nvar DRACOLoader = function ( manager ) {\n\n\tLoader.call( this, manager );\n\n\tthis.decoderPath = '';\n\tthis.decoderConfig = {};\n\tthis.decoderBinary = null;\n\tthis.decoderPending = null;\n\n\tthis.workerLimit = 4;\n\tthis.workerPool = [];\n\tthis.workerNextTaskID = 1;\n\tthis.workerSourceURL = '';\n\n\tthis.defaultAttributeIDs = {\n\t\tposition: 'POSITION',\n\t\tnormal: 'NORMAL',\n\t\tcolor: 'COLOR',\n\t\tuv: 'TEX_COORD'\n\t};\n\tthis.defaultAttributeTypes = {\n\t\tposition: 'Float32Array',\n\t\tnormal: 'Float32Array',\n\t\tcolor: 'Float32Array',\n\t\tuv: 'Float32Array'\n\t};\n\n};\n\nDRACOLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: DRACOLoader,\n\n\tsetDecoderPath: function ( path ) {\n\n\t\tthis.decoderPath = path;\n\n\t\treturn this;\n\n\t},\n\n\tsetDecoderConfig: function ( config ) {\n\n\t\tthis.decoderConfig = config;\n\n\t\treturn this;\n\n\t},\n\n\tsetWorkerLimit: function ( workerLimit ) {\n\n\t\tthis.workerLimit = workerLimit;\n\n\t\treturn this;\n\n\t},\n\n\t/** @deprecated */\n\tsetVerbosity: function () {\n\n\t\tconsole.warn( 'THREE.DRACOLoader: The .setVerbosity() method has been removed.' );\n\n\t},\n\n\t/** @deprecated */\n\tsetDrawMode: function () {\n\n\t\tconsole.warn( 'THREE.DRACOLoader: The .setDrawMode() method has been removed.' );\n\n\t},\n\n\t/** @deprecated */\n\tsetSkipDequantization: function () {\n\n\t\tconsole.warn( 'THREE.DRACOLoader: The .setSkipDequantization() method has been removed.' );\n\n\t},\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, ( buffer ) => {\n\n\t\t\tvar taskConfig = {\n\t\t\t\tattributeIDs: this.defaultAttributeIDs,\n\t\t\t\tattributeTypes: this.defaultAttributeTypes,\n\t\t\t\tuseUniqueIDs: false\n\t\t\t};\n\n\t\t\tthis.decodeGeometry( buffer, taskConfig )\n\t\t\t\t.then( onLoad )\n\t\t\t\t.catch( onError );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\t/** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */\n\tdecodeDracoFile: function ( buffer, callback, attributeIDs, attributeTypes ) {\n\n\t\tvar taskConfig = {\n\t\t\tattributeIDs: attributeIDs || this.defaultAttributeIDs,\n\t\t\tattributeTypes: attributeTypes || this.defaultAttributeTypes,\n\t\t\tuseUniqueIDs: !! attributeIDs\n\t\t};\n\n\t\tthis.decodeGeometry( buffer, taskConfig ).then( callback );\n\n\t},\n\n\tdecodeGeometry: function ( buffer, taskConfig ) {\n\n\t\t// TODO: For backward-compatibility, support 'attributeTypes' objects containing\n\t\t// references (rather than names) to typed array constructors. These must be\n\t\t// serialized before sending them to the worker.\n\t\tfor ( var attribute in taskConfig.attributeTypes ) {\n\n\t\t\tvar type = taskConfig.attributeTypes[ attribute ];\n\n\t\t\tif ( type.BYTES_PER_ELEMENT !== undefined ) {\n\n\t\t\t\ttaskConfig.attributeTypes[ attribute ] = type.name;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar taskKey = JSON.stringify( taskConfig );\n\n\t\t// Check for an existing task using this buffer. A transferred buffer cannot be transferred\n\t\t// again from this thread.\n\t\tif ( DRACOLoader.taskCache.has( buffer ) ) {\n\n\t\t\tvar cachedTask = DRACOLoader.taskCache.get( buffer );\n\n\t\t\tif ( cachedTask.key === taskKey ) {\n\n\t\t\t\treturn cachedTask.promise;\n\n\t\t\t} else if ( buffer.byteLength === 0 ) {\n\n\t\t\t\t// Technically, it would be possible to wait for the previous task to complete,\n\t\t\t\t// transfer the buffer back, and decode again with the second configuration. That\n\t\t\t\t// is complex, and I don't know of any reason to decode a Draco buffer twice in\n\t\t\t\t// different ways, so this is left unimplemented.\n\t\t\t\tthrow new Error(\n\n\t\t\t\t\t'THREE.DRACOLoader: Unable to re-decode a buffer with different ' +\n\t\t\t\t\t'settings. Buffer has already been transferred.'\n\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar worker;\n\t\tvar taskID = this.workerNextTaskID ++;\n\t\tvar taskCost = buffer.byteLength;\n\n\t\t// Obtain a worker and assign a task, and construct a geometry instance\n\t\t// when the task completes.\n\t\tvar geometryPending = this._getWorker( taskID, taskCost )\n\t\t\t.then( ( _worker ) => {\n\n\t\t\t\tworker = _worker;\n\n\t\t\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\t\t\tworker._callbacks[ taskID ] = { resolve, reject };\n\n\t\t\t\t\tworker.postMessage( { type: 'decode', id: taskID, taskConfig, buffer }, [ buffer ] );\n\n\t\t\t\t\t// this.debug();\n\n\t\t\t\t} );\n\n\t\t\t} )\n\t\t\t.then( ( message ) => this._createGeometry( message.geometry ) );\n\n\t\t// Remove task from the task list.\n\t\t// Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)\n\t\tgeometryPending\n\t\t\t.catch( () => true )\n\t\t\t.then( () => {\n\n\t\t\t\tif ( worker && taskID ) {\n\n\t\t\t\t\tthis._releaseTask( worker, taskID );\n\n\t\t\t\t\t// this.debug();\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t// Cache the task result.\n\t\tDRACOLoader.taskCache.set( buffer, {\n\n\t\t\tkey: taskKey,\n\t\t\tpromise: geometryPending\n\n\t\t} );\n\n\t\treturn geometryPending;\n\n\t},\n\n\t_createGeometry: function ( geometryData ) {\n\n\t\tvar geometry = new BufferGeometry();\n\n\t\tif ( geometryData.index ) {\n\n\t\t\tgeometry.setIndex( new BufferAttribute( geometryData.index.array, 1 ) );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < geometryData.attributes.length; i ++ ) {\n\n\t\t\tvar attribute = geometryData.attributes[ i ];\n\t\t\tvar name = attribute.name;\n\t\t\tvar array = attribute.array;\n\t\t\tvar itemSize = attribute.itemSize;\n\n\t\t\tgeometry.setAttribute( name, new BufferAttribute( array, itemSize ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t},\n\n\t_loadLibrary: function ( url, responseType ) {\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.decoderPath );\n\t\tloader.setResponseType( responseType );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\tloader.load( url, resolve, undefined, reject );\n\n\t\t} );\n\n\t},\n\n\tpreload: function () {\n\n\t\tthis._initDecoder();\n\n\t\treturn this;\n\n\t},\n\n\t_initDecoder: function () {\n\n\t\tif ( this.decoderPending ) return this.decoderPending;\n\n\t\tvar useJS = typeof WebAssembly !== 'object' || this.decoderConfig.type === 'js';\n\t\tvar librariesPending = [];\n\n\t\tif ( useJS ) {\n\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_decoder.js', 'text' ) );\n\n\t\t} else {\n\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_wasm_wrapper.js', 'text' ) );\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_decoder.wasm', 'arraybuffer' ) );\n\n\t\t}\n\n\t\tthis.decoderPending = Promise.all( librariesPending )\n\t\t\t.then( ( libraries ) => {\n\n\t\t\t\tvar jsContent = libraries[ 0 ];\n\n\t\t\t\tif ( ! useJS ) {\n\n\t\t\t\t\tthis.decoderConfig.wasmBinary = libraries[ 1 ];\n\n\t\t\t\t}\n\n\t\t\t\tvar fn = DRACOLoader.DRACOWorker.toString();\n\n\t\t\t\tvar body = [\n\t\t\t\t\t'/* draco decoder */',\n\t\t\t\t\tjsContent,\n\t\t\t\t\t'',\n\t\t\t\t\t'/* worker */',\n\t\t\t\t\tfn.substring( fn.indexOf( '{' ) + 1, fn.lastIndexOf( '}' ) )\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tthis.workerSourceURL = URL.createObjectURL( new Blob( [ body ] ) );\n\n\t\t\t} );\n\n\t\treturn this.decoderPending;\n\n\t},\n\n\t_getWorker: function ( taskID, taskCost ) {\n\n\t\treturn this._initDecoder().then( () => {\n\n\t\t\tif ( this.workerPool.length < this.workerLimit ) {\n\n\t\t\t\tvar worker = new Worker( this.workerSourceURL );\n\n\t\t\t\tworker._callbacks = {};\n\t\t\t\tworker._taskCosts = {};\n\t\t\t\tworker._taskLoad = 0;\n\n\t\t\t\tworker.postMessage( { type: 'init', decoderConfig: this.decoderConfig } );\n\n\t\t\t\tworker.onmessage = function ( e ) {\n\n\t\t\t\t\tvar message = e.data;\n\n\t\t\t\t\tswitch ( message.type ) {\n\n\t\t\t\t\t\tcase 'decode':\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].resolve( message );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'error':\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].reject( message );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.DRACOLoader: Unexpected message, \"' + message.type + '\"' );\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tthis.workerPool.push( worker );\n\n\t\t\t} else {\n\n\t\t\t\tthis.workerPool.sort( function ( a, b ) {\n\n\t\t\t\t\treturn a._taskLoad > b._taskLoad ? - 1 : 1;\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tvar worker = this.workerPool[ this.workerPool.length - 1 ];\n\t\t\tworker._taskCosts[ taskID ] = taskCost;\n\t\t\tworker._taskLoad += taskCost;\n\t\t\treturn worker;\n\n\t\t} );\n\n\t},\n\n\t_releaseTask: function ( worker, taskID ) {\n\n\t\tworker._taskLoad -= worker._taskCosts[ taskID ];\n\t\tdelete worker._callbacks[ taskID ];\n\t\tdelete worker._taskCosts[ taskID ];\n\n\t},\n\n\tdebug: function () {\n\n\t\tconsole.log( 'Task load: ', this.workerPool.map( ( worker ) => worker._taskLoad ) );\n\n\t},\n\n\tdispose: function () {\n\n\t\tfor ( var i = 0; i < this.workerPool.length; ++ i ) {\n\n\t\t\tthis.workerPool[ i ].terminate();\n\n\t\t}\n\n\t\tthis.workerPool.length = 0;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/* WEB WORKER */\n\nDRACOLoader.DRACOWorker = function () {\n\n\tvar decoderConfig;\n\tvar decoderPending;\n\n\tonmessage = function ( e ) {\n\n\t\tvar message = e.data;\n\n\t\tswitch ( message.type ) {\n\n\t\t\tcase 'init':\n\t\t\t\tdecoderConfig = message.decoderConfig;\n\t\t\t\tdecoderPending = new Promise( function ( resolve/*, reject*/ ) {\n\n\t\t\t\t\tdecoderConfig.onModuleLoaded = function ( draco ) {\n\n\t\t\t\t\t\t// Module is Promise-like. Wrap before resolving to avoid loop.\n\t\t\t\t\t\tresolve( { draco: draco } );\n\n\t\t\t\t\t};\n\n\t\t\t\t\tDracoDecoderModule( decoderConfig ); // eslint-disable-line no-undef\n\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t\tcase 'decode':\n\t\t\t\tvar buffer = message.buffer;\n\t\t\t\tvar taskConfig = message.taskConfig;\n\t\t\t\tdecoderPending.then( ( module ) => {\n\n\t\t\t\t\tvar draco = module.draco;\n\t\t\t\t\tvar decoder = new draco.Decoder();\n\t\t\t\t\tvar decoderBuffer = new draco.DecoderBuffer();\n\t\t\t\t\tdecoderBuffer.Init( new Int8Array( buffer ), buffer.byteLength );\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tvar geometry = decodeGeometry( draco, decoder, decoderBuffer, taskConfig );\n\n\t\t\t\t\t\tvar buffers = geometry.attributes.map( ( attr ) => attr.array.buffer );\n\n\t\t\t\t\t\tif ( geometry.index ) buffers.push( geometry.index.array.buffer );\n\n\t\t\t\t\t\tself.postMessage( { type: 'decode', id: message.id, geometry }, buffers );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tconsole.error( error );\n\n\t\t\t\t\t\tself.postMessage( { type: 'error', id: message.id, error: error.message } );\n\n\t\t\t\t\t} finally {\n\n\t\t\t\t\t\tdraco.destroy( decoderBuffer );\n\t\t\t\t\t\tdraco.destroy( decoder );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t};\n\n\tfunction decodeGeometry( draco, decoder, decoderBuffer, taskConfig ) {\n\n\t\tvar attributeIDs = taskConfig.attributeIDs;\n\t\tvar attributeTypes = taskConfig.attributeTypes;\n\n\t\tvar dracoGeometry;\n\t\tvar decodingStatus;\n\n\t\tvar geometryType = decoder.GetEncodedGeometryType( decoderBuffer );\n\n\t\tif ( geometryType === draco.TRIANGULAR_MESH ) {\n\n\t\t\tdracoGeometry = new draco.Mesh();\n\t\t\tdecodingStatus = decoder.DecodeBufferToMesh( decoderBuffer, dracoGeometry );\n\n\t\t} else if ( geometryType === draco.POINT_CLOUD ) {\n\n\t\t\tdracoGeometry = new draco.PointCloud();\n\t\t\tdecodingStatus = decoder.DecodeBufferToPointCloud( decoderBuffer, dracoGeometry );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'THREE.DRACOLoader: Unexpected geometry type.' );\n\n\t\t}\n\n\t\tif ( ! decodingStatus.ok() || dracoGeometry.ptr === 0 ) {\n\n\t\t\tthrow new Error( 'THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg() );\n\n\t\t}\n\n\t\tvar geometry = { index: null, attributes: [] };\n\n\t\t// Gather all vertex attributes.\n\t\tfor ( var attributeName in attributeIDs ) {\n\n\t\t\tvar attributeType = self[ attributeTypes[ attributeName ] ];\n\n\t\t\tvar attribute;\n\t\t\tvar attributeID;\n\n\t\t\t// A Draco file may be created with default vertex attributes, whose attribute IDs\n\t\t\t// are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,\n\t\t\t// a Draco file may contain a custom set of attributes, identified by known unique\n\t\t\t// IDs. glTF files always do the latter, and `.drc` files typically do the former.\n\t\t\tif ( taskConfig.useUniqueIDs ) {\n\n\t\t\t\tattributeID = attributeIDs[ attributeName ];\n\t\t\t\tattribute = decoder.GetAttributeByUniqueId( dracoGeometry, attributeID );\n\n\t\t\t} else {\n\n\t\t\t\tattributeID = decoder.GetAttributeId( dracoGeometry, draco[ attributeIDs[ attributeName ] ] );\n\n\t\t\t\tif ( attributeID === - 1 ) continue;\n\n\t\t\t\tattribute = decoder.GetAttribute( dracoGeometry, attributeID );\n\n\t\t\t}\n\n\t\t\tgeometry.attributes.push( decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute ) );\n\n\t\t}\n\n\t\t// Add index.\n\t\tif ( geometryType === draco.TRIANGULAR_MESH ) {\n\n\t\t\tgeometry.index = decodeIndex( draco, decoder, dracoGeometry );\n\n\t\t}\n\n\t\tdraco.destroy( dracoGeometry );\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction decodeIndex( draco, decoder, dracoGeometry ) {\n\n\t\tvar numFaces = dracoGeometry.num_faces();\n\t\tvar numIndices = numFaces * 3;\n\t\tvar byteLength = numIndices * 4;\n\n\t\tvar ptr = draco._malloc( byteLength );\n\t\tdecoder.GetTrianglesUInt32Array( dracoGeometry, byteLength, ptr );\n\t\tvar index = new Uint32Array( draco.HEAPF32.buffer, ptr, numIndices ).slice();\n\t\tdraco._free( ptr );\n\n\t\treturn { array: index, itemSize: 1 };\n\n\t}\n\n\tfunction decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute ) {\n\n\t\tvar numComponents = attribute.num_components();\n\t\tvar numPoints = dracoGeometry.num_points();\n\t\tvar numValues = numPoints * numComponents;\n\t\tvar byteLength = numValues * attributeType.BYTES_PER_ELEMENT;\n\t\tvar dataType = getDracoDataType( draco, attributeType );\n\n\t\tvar ptr = draco._malloc( byteLength );\n\t\tdecoder.GetAttributeDataArrayForAllPoints( dracoGeometry, attribute, dataType, byteLength, ptr );\n\t\tvar array = new attributeType( draco.HEAPF32.buffer, ptr, numValues ).slice();\n\t\tdraco._free( ptr );\n\n\t\treturn {\n\t\t\tname: attributeName,\n\t\t\tarray: array,\n\t\t\titemSize: numComponents\n\t\t};\n\n\t}\n\n\tfunction getDracoDataType ( draco, attributeType ) {\n\n\t\tswitch ( attributeType ) {\n\n\t\t\tcase Float32Array: return draco.DT_FLOAT32;\n\t\t\tcase Int8Array: return draco.DT_INT8;\n\t\t\tcase Int16Array: return draco.DT_INT16;\n\t\t\tcase Int32Array: return draco.DT_INT32;\n\t\t\tcase Uint8Array: return draco.DT_UINT8;\n\t\t\tcase Uint16Array: return draco.DT_UINT16;\n\t\t\tcase Uint32Array: return draco.DT_UINT32;\n\n\t\t}\n\n\t}\n\n};\n\nDRACOLoader.taskCache = new WeakMap();\n\n/** Deprecated static methods */\n\n/** @deprecated */\nDRACOLoader.setDecoderPath = function () {\n\n\tconsole.warn( 'THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.' );\n\n};\n\n/** @deprecated */\nDRACOLoader.setDecoderConfig = function () {\n\n\tconsole.warn( 'THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.' );\n\n};\n\n/** @deprecated */\nDRACOLoader.releaseDecoderModule = function () {\n\n\tconsole.warn( 'THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.' );\n\n};\n\n/** @deprecated */\nDRACOLoader.getDecoderModule = function () {\n\n\tconsole.warn( 'THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.' );\n\n};\n\nexport { DRACOLoader };\n","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","import * as THREE from 'three/build/three.module.js';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader.js';\r\nimport dat from 'dat.gui'\r\n\r\nconst DECODER_PATH = 'https://unpkg.com/three@0.125.2/examples/js/libs/draco/'\r\n\r\nconst options = {\r\n  sprinkleColor: '#ffffff',\r\n  ballColor: '#2277ff',\r\n  icingColor: '#ff33cc'\r\n}\r\nconst $ = document.querySelector.bind(document);\r\n\r\nclass GLTFModelViewer extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.renderer = null;\r\n    this.scene = null;\r\n    this.camera = null;\r\n    this.controls = null;\r\n    this.frame = -1;\r\n    this.render = this.render.bind(this);\r\n    this.onResize = this.onResize.bind(this);\r\n    this.attributeChangedCallback = this.attributeChangedCallback.bind(this);\r\n    this.dragging = false;\r\n  }\r\n\r\n  static register() {\r\n    if (typeof customElements.get('gltf-modelviewer') === 'undefined') {\r\n      customElements.define('gltf-modelviewer', GLTFModelViewer);\r\n    }\r\n  }\r\n\r\n  static get observedAttributes() {\r\n    return ['src', 'autorotate'];\r\n  }\r\n\r\n  get autoRotate() {\r\n    return this.hasAttribute('autorotate')\r\n  }\r\n\r\n  get isInitialized() {\r\n    return Boolean(this.scene && this.controls && this.camera)\r\n  }\r\n\r\n  onMouseDown(e) {\r\n    console.log('down');\r\n    if (e.target === this.canvas) {\r\n      this.dragging = true;\r\n    }\r\n  }\r\n\r\n  onMouseUp(e) {\r\n    this.dragging = false;\r\n  }\r\n\r\n  attributeChangedCallback(name, oldValue, newValue) {\r\n    if (name === 'src' && oldValue !== newValue && this.isInitialized) {\r\n      this.cleanupScene();\r\n      this.initScene();\r\n    }\r\n    if (name === 'autorotate' && this.isInitialized) {\r\n      this.updateAutorotate();\r\n    }\r\n  }\r\n\r\n  updateAutorotate() {\r\n    if (this.isInitialized) {\r\n      this.controls.autoRotate = this.autoRotate;\r\n      this.controls.update();\r\n    }\r\n\r\n  }\r\n\r\n\r\n  connectedCallback() {\r\n    if (!this.renderer) {\r\n      this.setup();\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.dispose();\r\n  }\r\n\r\n  get fov() {\r\n    return parseInt(this.getAttribute('fov'), 10) || 45;\r\n  }\r\n\r\n  get aspectRatio() {\r\n    return this.clientWidth / this.clientWidth || 1;\r\n  }\r\n\r\n  get src() {\r\n    return this.getAttribute('src');\r\n  }\r\n\r\n  setup() {\r\n    const canvas = document.createElement('canvas');\r\n    canvas.classList.add('loading');\r\n    this.appendChild(canvas);\r\n    this.canvas = canvas;\r\n\r\n    const renderer = new THREE.WebGLRenderer({\r\n      canvas,\r\n      alpha: true,\r\n      antialias: true,\r\n    });\r\n    this.renderer = renderer;\r\n    this.renderer.setPixelRatio(Math.min(2, window.devicePixelRatio))\r\n    const near = 0.1;\r\n    const far = 100;\r\n    const camera = new THREE.PerspectiveCamera(\r\n      this.fov,\r\n      this.aspectRatio,\r\n      near,\r\n      far\r\n    );\r\n    camera.position.set(0, 10, 20);\r\n    this.camera = camera;\r\n\r\n    const controls = new OrbitControls(camera, canvas);\r\n    controls.target.set(0, 5, 0);\r\n    controls.update();\r\n    this.controls = controls;\r\n\r\n    const scene = new THREE.Scene();\r\n    this.scene = scene;\r\n\r\n    this.initScene();\r\n\r\n    this.onResize();\r\n    window.addEventListener('resize', this.onResize, false);\r\n    this.updateAutorotate();\r\n    this.frame = requestAnimationFrame(this.render);\r\n  }\r\n\r\n  initScene() {\r\n    this.setupLight();\r\n    this.loadModel();\r\n  }\r\n\r\n  setupLight() {\r\n    const { scene } = this;\r\n    {\r\n      const skyColor = 0xb1e1ff; // light blue\r\n      const groundColor = 0xb97a20; // brownish orange\r\n      const intensity = 1;\r\n      const light = new THREE.HemisphereLight(skyColor, groundColor, intensity);\r\n      scene.add(light);\r\n    }\r\n    {\r\n      const color = 0xffffff;\r\n      const intensity = 1;\r\n      const light = new THREE.DirectionalLight(color, intensity);\r\n      light.position.set(5, 10, 2);\r\n      scene.add(light);\r\n      scene.add(light.target);\r\n    }\r\n  }\r\n\r\n  createPlane() {\r\n    const { scene } = this;\r\n    const planeSize = 40;\r\n    const loader = new THREE.TextureLoader();\r\n    const texture = loader.load('/textures/checker.png');\r\n    texture.wrapS = THREE.RepeatWrapping;\r\n    texture.wrapT = THREE.RepeatWrapping;\r\n    texture.magFilter = THREE.NearestFilter;\r\n    const repeats = planeSize / 2;\r\n    texture.repeat.set(repeats, repeats);\r\n    const planeGeo = new THREE.PlaneBufferGeometry(planeSize, planeSize);\r\n    const planeMat = new THREE.MeshPhongMaterial({\r\n      map: texture,\r\n      side: THREE.DoubleSide,\r\n    });\r\n    const mesh = new THREE.Mesh(planeGeo, planeMat);\r\n    mesh.rotation.x = Math.PI * -0.5;\r\n    scene.add(mesh);\r\n  }\r\n\r\n  loadModel() {\r\n    const { controls, scene, camera, canvas } = this;\r\n    const gltfLoader = new GLTFLoader();\r\n    const dracoLoader = new DRACOLoader();\r\n    dracoLoader.setDecoderPath(DECODER_PATH);\r\n    gltfLoader.setDRACOLoader(dracoLoader);\r\n    gltfLoader.load(\r\n      this.src,\r\n      (gltf) => {\r\n        const root = gltf.scene;\r\n        scene.add(root);\r\n        this.model = root;\r\n        // compute the box that contains all the stuff\r\n        // from root and below\r\n        const box = new THREE.Box3().setFromObject(root);\r\n\r\n        const boxSize = box.getSize(new THREE.Vector3()).length();\r\n        const boxCenter = box.getCenter(new THREE.Vector3());\r\n\r\n        // set the camera to frame the box\r\n        this.frameArea(boxSize, boxSize, boxCenter, camera);\r\n\r\n        // update the Trackball controls to handle the new size\r\n        controls.maxDistance = boxSize * 10;\r\n        controls.target.copy(boxCenter);\r\n        controls.update();\r\n        canvas.classList.remove('loading');\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Arrange the camera so the object fits in the canvas\r\n   * @param {*} sizeToFitOnScreen\r\n   * @param {*} boxSize\r\n   * @param {*} boxCenter\r\n   */\r\n  frameArea(sizeToFitOnScreen, boxSize, boxCenter) {\r\n    const { camera } = this;\r\n    const halfSizeToFitOnScreen = sizeToFitOnScreen * 0.5;\r\n    const halfFovY = THREE.MathUtils.degToRad(camera.fov * 0.5);\r\n    const distance = halfSizeToFitOnScreen / Math.tan(halfFovY);\r\n\r\n    // compute a unit vector that points in the direction the camera is now\r\n    // in the xz plane from the center of the box\r\n    const direction = new THREE.Vector3()\r\n      .subVectors(camera.position, boxCenter)\r\n      .multiply(new THREE.Vector3(1, 2, 1))\r\n      .normalize();\r\n\r\n    // move the camera to a position distance units way from the center\r\n    // in whatever direction the camera was from the center already\r\n    camera.position.copy(direction.multiplyScalar(distance).add(boxCenter));\r\n\r\n    // pick some near and far values for the frustum that\r\n    // will contain the box.\r\n    camera.near = boxSize / 100;\r\n    camera.far = boxSize * 100;\r\n\r\n    camera.updateProjectionMatrix();\r\n\r\n    // point the camera to look at the center of the box\r\n    camera.lookAt(boxCenter.x, boxCenter.y, boxCenter.z);\r\n  }\r\n\r\n  /**\r\n   * Clean up the scene materials, meshes, geometries, textures\r\n   */\r\n  cleanupScene(groupOrScene = null) {\r\n    if (groupOrScene === null) {\r\n      groupOrScene = this.scene;\r\n    }\r\n    const items = [...groupOrScene.children];\r\n    for (let item of items) {\r\n      if (item.children && item.children.length > 0) {\r\n        this.cleanupScene(item);\r\n      }\r\n      const { geometry, material, texture } = item;\r\n      if (geometry) {\r\n        geometry.dispose();\r\n      }\r\n      if (material) {\r\n        material.dispose();\r\n      }\r\n      if (texture) {\r\n        texture.dispose();\r\n      }\r\n      if (typeof item.dispose === 'function') {\r\n        item.dispose();\r\n      }\r\n      groupOrScene.remove(item);\r\n    }\r\n  }\r\n\r\n  dispose() {\r\n    this.cleanupScene();\r\n    window.removeEventListener('resize', this.onResize, false);\r\n    if (this.frame > -1) {\r\n      cancelAnimationFrame(this.frame);\r\n      this.frame = -1;\r\n    }\r\n    const context = this.renderer.getContext();\r\n    this.renderer.dispose();\r\n    const loseCtx = context.getExtension('WEBGL_lose_context');\r\n    if (loseCtx && typeof loseCtx.loseContext === 'function') {\r\n      loseCtx.loseContext();\r\n    }\r\n    this.removeChild(this.canvas);\r\n    this.renderer = null;\r\n    this.scene = null;\r\n    this.camera = null;\r\n    this.controls = null;\r\n  }\r\n\r\n  onResize() {\r\n    const { renderer, camera } = this;\r\n    camera.aspect = this.clientWidth / this.clientHeight;\r\n    camera.updateProjectionMatrix();\r\n    renderer.setSize(this.clientWidth, this.clientHeight);\r\n  }\r\n\r\n  needsResize() {\r\n    const { canvas } = this;\r\n    const dpr = this.devicePixelRatio;\r\n    return (\r\n      canvas.width !== this.clientWidth * dpr ||\r\n      canvas.height !== this.clientHeight * dpr\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { renderer, scene, camera } = this;\r\n    if (this.needsResize()) {\r\n      this.onResize();\r\n    }\r\n    this.controls.update();\r\n    renderer.render(scene, camera);\r\n    this.frame = requestAnimationFrame(this.render);\r\n  }\r\n}\r\n\r\nGLTFModelViewer.register();\r\n\r\nconst getByName = (children, regex) => {\r\n  const result = []\r\n  for (const child of children) {\r\n    if (child.children.length > 0) {\r\n      result.push(...getByName(child.children, regex))\r\n    }\r\n    if (regex.test(child.name)) {\r\n      result.push(child)\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\n// customElements.whenDefined('gltf-modelviewer').then(() => {\r\n//   setTimeout(() => {\r\n//     const modelViewer = $('gltf-modelviewer');\r\n//     const gui = new dat.GUI();\r\n//     const scene = modelViewer.scene;\r\n\r\n//     // console.log('sdsdsds', modelViewer.scene)\r\n\r\n//     gui.addColor(options, 'sprinkleColor').onChange(() => {\r\n//       const sprinkles = getByName(scene.children, /Sprinkle[SML]/);\r\n//       for (const sprinkle of sprinkles) {\r\n//         sprinkle.material.color.set(options.sprinkleColor)\r\n//       }\r\n//     })\r\n//     gui.addColor(options, 'ballColor').onChange(() => {\r\n//       const sprinkles = getByName(scene.children, /Ball/);\r\n//       for (const sprinkle of sprinkles) {\r\n//         sprinkle.material.color.set(options.ballColor)\r\n//       }\r\n//     })\r\n//     gui.addColor(options, 'icingColor').onChange(() => {\r\n//       const icings = getByName(scene.children, /Icing/);\r\n//       console.log(icings[0].material)\r\n//       for (const icing of icings) {\r\n//         icing.material.color.set(options.icingColor)\r\n//       }\r\n//     })\r\n//   }, 1000)\r\n// });\r\n","import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\r\n\r\nconst DECODER_PATH = 'https://unpkg.com/three@0.125.2/examples/js/libs/draco/'\r\n\r\n\r\nimport './gltf-modelviewer'\r\n\r\n\r\nclass GLTFModelViewer {\r\n  constructor({ canvas = null, src = '' } = {}) {\r\n    this.renderer = null;\r\n    this.scene = null;\r\n    this.camera = null;\r\n    this.controls = null;\r\n    this.frame = -1;\r\n    this.render = this.render.bind(this);\r\n    this.dragging = false;\r\n    this.canvas = canvas\r\n    this.src = src\r\n  }\r\n\r\n  get isInitialized() {\r\n    return Boolean(this.scene && this.controls && this.camera)\r\n  }\r\n\r\n  connectedCallback() {\r\n    if (!this.renderer) {\r\n      this.setup();\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.dispose();\r\n  }\r\n\r\n  setup() {\r\n    let canvas = this.canvas\r\n\r\n    const renderer = new THREE.WebGLRenderer({\r\n      canvas,\r\n      alpha: true,\r\n      antialias: true,\r\n    });\r\n    this.renderer = renderer;\r\n    this.renderer.setPixelRatio(Math.min(2, window.devicePixelRatio))\r\n    const near = 0.1;\r\n    const far = 100;\r\n    const camera = new THREE.PerspectiveCamera(\r\n      this.fov,\r\n      this.aspectRatio,\r\n      near,\r\n      far\r\n    );\r\n    camera.position.set(0, 10, 20);\r\n    this.camera = camera;\r\n\r\n    const controls = new OrbitControls(camera, canvas);\r\n    controls.target.set(0, 5, 0);\r\n    controls.update();\r\n    this.controls = controls;\r\n\r\n    const scene = new THREE.Scene();\r\n    this.scene = scene;\r\n\r\n    this.initScene();\r\n\r\n    this.frame = requestAnimationFrame(this.render);\r\n  }\r\n\r\n  initScene() {\r\n    this.setupLight();\r\n    this.loadModel();\r\n  }\r\n\r\n  setupLight() {\r\n    const { scene } = this;\r\n    {\r\n      const skyColor = 0xb1e1ff; // light blue\r\n      const groundColor = 0xb97a20; // brownish orange\r\n      const intensity = 1;\r\n      const light = new THREE.HemisphereLight(skyColor, groundColor, intensity);\r\n      scene.add(light);\r\n    }\r\n    {\r\n      const color = 0xffffff;\r\n      const intensity = 1;\r\n      const light = new THREE.DirectionalLight(color, intensity);\r\n      light.position.set(5, 10, 2);\r\n      scene.add(light);\r\n      scene.add(light.target);\r\n    }\r\n  }\r\n\r\n  createPlane() {\r\n    const { scene } = this;\r\n    const planeSize = 40;\r\n    const loader = new THREE.TextureLoader();\r\n    const texture = loader.load('/textures/checker.png');\r\n    texture.wrapS = THREE.RepeatWrapping;\r\n    texture.wrapT = THREE.RepeatWrapping;\r\n    texture.magFilter = THREE.NearestFilter;\r\n    const repeats = planeSize / 2;\r\n    texture.repeat.set(repeats, repeats);\r\n    const planeGeo = new THREE.PlaneBufferGeometry(planeSize, planeSize);\r\n    const planeMat = new THREE.MeshPhongMaterial({\r\n      map: texture,\r\n      side: THREE.DoubleSide,\r\n    });\r\n    const mesh = new THREE.Mesh(planeGeo, planeMat);\r\n    mesh.rotation.x = Math.PI * -0.5;\r\n    scene.add(mesh);\r\n  }\r\n\r\n  loadModel() {\r\n    const { controls, scene, camera, canvas } = this;\r\n    const gltfLoader = new GLTFLoader();\r\n    const dracoLoader = new DRACOLoader();\r\n    dracoLoader.setDecoderPath(DECODER_PATH);\r\n    gltfLoader.setDRACOLoader(dracoLoader);\r\n    gltfLoader.load(\r\n      this.src,\r\n      (gltf) => {\r\n        const root = gltf.scene;\r\n        scene.add(root);\r\n        this.model = root;\r\n        // compute the box that contains all the stuff\r\n        // from root and below\r\n        const box = new THREE.Box3().setFromObject(root);\r\n\r\n        const boxSize = box.getSize(new THREE.Vector3()).length();\r\n        const boxCenter = box.getCenter(new THREE.Vector3());\r\n\r\n        // set the camera to frame the box\r\n        this.frameArea(boxSize, boxSize, boxCenter, camera);\r\n\r\n        // update the Trackball controls to handle the new size\r\n        controls.maxDistance = boxSize * 10;\r\n        controls.target.copy(boxCenter);\r\n        controls.update();\r\n        canvas.classList.remove('loading');\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Arrange the camera so the object fits in the canvas\r\n   * @param {*} sizeToFitOnScreen\r\n   * @param {*} boxSize\r\n   * @param {*} boxCenter\r\n   */\r\n  frameArea(sizeToFitOnScreen, boxSize, boxCenter) {\r\n    const { camera } = this;\r\n    const halfSizeToFitOnScreen = sizeToFitOnScreen * 0.5;\r\n    const halfFovY = THREE.MathUtils.degToRad(camera.fov * 0.5);\r\n    const distance = halfSizeToFitOnScreen / Math.tan(halfFovY);\r\n\r\n    // compute a unit vector that points in the direction the camera is now\r\n    // in the xz plane from the center of the box\r\n    const direction = new THREE.Vector3()\r\n      .subVectors(camera.position, boxCenter)\r\n      .multiply(new THREE.Vector3(1, 2, 1))\r\n      .normalize();\r\n\r\n    // move the camera to a position distance units way from the center\r\n    // in whatever direction the camera was from the center already\r\n    camera.position.copy(direction.multiplyScalar(distance).add(boxCenter));\r\n\r\n    // pick some near and far values for the frustum that\r\n    // will contain the box.\r\n    camera.near = boxSize / 100;\r\n    camera.far = boxSize * 100;\r\n\r\n    camera.updateProjectionMatrix();\r\n\r\n    // point the camera to look at the center of the box\r\n    camera.lookAt(boxCenter.x, boxCenter.y, boxCenter.z);\r\n  }\r\n\r\n  /**\r\n   * Clean up the scene materials, meshes, geometries, textures\r\n   */\r\n  cleanupScene(groupOrScene = null) {\r\n    if (groupOrScene === null) {\r\n      groupOrScene = this.scene;\r\n    }\r\n    const items = [...groupOrScene.children];\r\n    for (let item of items) {\r\n      if (item.children && item.children.length > 0) {\r\n        this.cleanupScene(item);\r\n      }\r\n      const { geometry, material, texture } = item;\r\n      if (geometry) {\r\n        geometry.dispose();\r\n      }\r\n      if (material) {\r\n        material.dispose();\r\n      }\r\n      if (texture) {\r\n        texture.dispose();\r\n      }\r\n      if (typeof item.dispose === 'function') {\r\n        item.dispose();\r\n      }\r\n      groupOrScene.remove(item);\r\n    }\r\n  }\r\n\r\n  dispose() {\r\n    this.cleanupScene();\r\n    window.removeEventListener('resize', this.onResize, false);\r\n    if (this.frame > -1) {\r\n      cancelAnimationFrame(this.frame);\r\n      this.frame = -1;\r\n    }\r\n    const context = this.renderer.getContext();\r\n    this.renderer.dispose();\r\n    const loseCtx = context.getExtension('WEBGL_lose_context');\r\n    if (loseCtx && typeof loseCtx.loseContext === 'function') {\r\n      loseCtx.loseContext();\r\n    }\r\n    this.removeChild(this.canvas);\r\n    this.renderer = null;\r\n    this.scene = null;\r\n    this.camera = null;\r\n    this.controls = null;\r\n  }\r\n\r\n  setSize([clientWidth, clientHeight = clientWidth] = []) {\r\n    console.log(clientWidth, clientHeight)\r\n    const { renderer, camera } = this;\r\n    camera.aspect = clientWidth / clientHeight;\r\n    renderer.setSize(clientWidth, clientHeight);\r\n  }\r\n\r\n  render() {\r\n    const { renderer, scene, camera } = this;\r\n    this.controls.update();\r\n    renderer.render(scene, camera);\r\n    this.frame = requestAnimationFrame(this.render);\r\n  }\r\n}\r\n\r\nexport function DemoGltf1(THREE, context) {\r\n  let myGLTFModelViewer = new GLTFModelViewer({\r\n    canvas: context.$refs.canvas\r\n    ,src: 'https://terabaud.github.io/blender-experimenting/leas-donut.glb'\r\n  });\r\n  // console.log(myGLTFModelViewer)\r\n\r\n  myGLTFModelViewer.connectedCallback()\r\n  myGLTFModelViewer.setSize([1024, 768])\r\n}\r\n","<style lang=\"scss\">\r\n.page-threejs {\r\n  position: absolute;\r\n  width: 100%;\r\n  .canvas {\r\n    display: block;\r\n    margin: auto;\r\n  }\r\n\r\n  gltf-modelviewer {\r\n    display: block;\r\n    width: 100vw;\r\n    height: 100vh;\r\n  }\r\n\r\n  gltf-modelviewer canvas {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"page-threejs\">\r\n    <el-button type=\"grd\" size=\"small\" @click=\"openDialog1 = true\"\r\n               style=\"--grd-btn-width: 90px; --grd-btn-height: 30px;\"\r\n    >dialog1</el-button>\r\n\r\n    <simple-dialog :open=\"openDialog1\" @closed=\"openDialog1 = false\">\r\n      <div style=\"width: 600px; height: 300px;\">sdsds</div>\r\n    </simple-dialog>\r\n\r\n    <div>\r\n      <el-button size=\"small\"\r\n                 v-for=\"ThreejsDemosKey in ThreejsDemosKeys\"\r\n                 @click=\"switchCanvas(ThreejsDemosKey)\"\r\n                 style=\"--grd-btn-width: 90px; --grd-btn-height: 30px;\"\r\n      >{{ThreejsDemosKey}}</el-button>\r\n    </div>\r\n\r\n    <!-- <gltf-modelviewer\r\n        role=\"img\" aria-label=\"It's a donut\" src=\"https://terabaud.github.io/blender-experimenting/leas-donut.glb\" autorotate></gltf-modelviewer> -->\r\n\r\n    <canvas class=\"canvas\"\r\n            v-if=\"resetCanvas\"\r\n            ref=\"canvas\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from \"three\";\r\nimport * as ThreejsDemos from '@/threejs/index'\r\n\r\n\r\nwindow.THREE = THREE;\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      openDialog1: false,\r\n      resetCanvas: false,\r\n      ThreejsDemosKeys: Object.keys(ThreejsDemos)\r\n    }\r\n  },\r\n  mounted() {\r\n    // DemoMeshPhongMaterial(THREE, this)\r\n    this.resetCanvas = true\r\n    setTimeout(() => {\r\n      ThreejsDemos.DemoGltf1(THREE, this)\r\n    }, 30)\r\n  },\r\n   methods: {\r\n     switchCanvas(name) {\r\n       let self = this\r\n       self.resetCanvas = false\r\n       self.$nextTick(() => {\r\n         self.resetCanvas = true\r\n         setTimeout(() => {\r\n           ThreejsDemos[name](THREE, self)\r\n         }, 30)\r\n       })\r\n     }\r\n   }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threejs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threejs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./threejs.vue?vue&type=template&id=9264124e&\"\nimport script from \"./threejs.vue?vue&type=script&lang=js&\"\nexport * from \"./threejs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./threejs.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","exports.f = {}.propertyIsEnumerable;\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","require('./_wks-define')('asyncIterator');\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threejs.vue?vue&type=style&index=0&lang=scss&\"","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n"],"sourceRoot":""}