(function(t){function e(e){for(var a,r,c=e[0],s=e[1],u=e[2],l=0,h=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);p&&p(e);while(h.length)h.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i={app:0},o=[];function c(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-9cd54160":"38675e1e"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-9cd54160":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-9cd54160":"b2a42103"}[t]+".css",i=s.p+a,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===i))return e()}var h=document.getElementsByTagName("style");for(c=0;c<h.length;c++){u=h[c],l=u.getAttribute("data-href");if(l===a||l===i)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||i,o=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete r[t],p.parentNode.removeChild(p),n(o)},p.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){r[t]=0})));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,n){a=i[t]=[e,n]}));e.push(a[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(t);var h=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(p);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",h.name="ChunkLoadError",h.type=a,h.request=r,n[1](h)}i[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/charts/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var h=0;h<u.length;h++)e(u[h]);var p=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("64a9")},3872:function(t,e,n){},"496a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("7f7f"),n("14c6"),n("08c1"),n("4842"),n("d9fc");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],o=n("8c4f"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",[n("a-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.openModalChart("bar")}}},[t._v("打开bar")]),n("router-link",{attrs:{to:"/threemap"}},[t._v("3d ditu")])],1),n("china-map"),n("v-modal",{attrs:{name:"bar",resizable:!0,height:600,width:900}},[n("al-echart",{ref:"bar_chart",attrs:{title:"动态bar"}})],1)],1)},s=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isShowBack?n("div",{ref:"oBack",staticClass:"china-map-back",on:{click:t.backUpMap}},[t._v(t._s(t.childParentMapObj&&t.childParentMapObj.name?"返回"+t.childParentMapObj.name:"返回"))]):t._e(),n("v-echarts",{staticClass:"china-map",on:{init:t.onEchartsInit}}),n("map-chart",{ref:"parentMap"})],1)},l=[],h=(n("7514"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"main",staticClass:"v-charts"})}),p=[],f=n("313e"),d={name:"vEcharts",data:function(){return{chart:null}},mounted:function(){this.chart=f["init"](this.$refs.main),this.$emit("init",this.chart,f)}},m=d,v=(n("819d"),n("2877")),b=Object(v["a"])(m,h,p,!1,null,"4d8183b9",null),O=b.exports,g=n("bc3a"),M=n.n(g),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-echarts",{staticClass:"map-chart",on:{init:t.onEchartsInit}})},j=[],w={methods:{getMapOption:function(t){var e=t.map,n=t.mergeOption,a={title:{text:name,left:"center"},series:[{name:name,type:"map",map:e,roam:!0,label:{show:!0},aspectScale:"china"===e?.75:1,top:"10%"}]};return"china"===e&&(a.series[0]=Object.assign(a.series[0],{emphasis:{itemStyle:{areaColor:"#0ecdfd"},label:{show:!0,textStyle:{color:"#efefef"}}},itemStyle:{normal:{areaColor:"#1171bc",borderColor:"#0ecdfd",label:{show:!0,textStyle:{color:"#ccc"}}}},data:[]})),n&&(a=Object.assign(a,n)),a}}},k={name:"mapChart",components:{VEcharts:O},mixins:[w],data:function(){return{chart:null,echarts:null}},methods:{onEchartsInit:function(t,e){this.chart=t,this.echarts=e},clear:function(){var t=this.chart;t.clear()},render:function(t){var e=t.map,n=t.mapData,a=this.chart,r=this.getMapOption({map:e});a.clear(),a.setOption(r),this.echarts.registerMap(e,n)}}},P=k,E=(n("9308"),Object(v["a"])(P,y,j,!1,null,"74122142",null)),C=E.exports;function _(t,e){return t+(e?"_full":"")}function x(t){return 1e5===t?"china":t}var S={name:"chinaMap",components:{MapChart:C,VEcharts:O},mixins:[w],data:function(){return{isShowBack:!1,chart:null,echarts:null,mapCaches:{},mapGetCaches:{},childParentMapObj:{},version:""}},watch:{childParentMapObj:function(t){this.onSetMapData&&this.onSetMapData()},isShowBack:function(t){t||this.$refs.parentMap.clear()}},methods:{getAreaMap:function(t,e){var n=this.mapGetCaches,a=_(t,e);return n&&n[a]?Promise.resolve(n[a]):M.a.get("http://42.192.232.58:3000/proxy/areas_v2/bound/"+a+".json?proxy_key=7f297416175d8b022098ded9548eb276").then((function(t){return Promise.resolve(t.data)}))},loadMap:function(t,e,n){var a=n.code,r=n.isFull,i=n.isAction,o=void 0===i||i,c=this.mapGetCaches,s=this.mapCaches,u=(this.childParentMapObj,this);window.mapCaches=s,window.mapGetCaches=c;var l=this.echarts,h=this.chart,p=_(a,r),f=Promise.resolve();s[t]||(f=u.getAreaMap(a,r).then((function(e){l.registerMap(t,e),s[t]=e,c[p]=e}))),f.then((function(){var n=u.getMapOption({map:t,mergeOption:{backgroundColor:"#b4eeff"}});h.clear(),h.setOption(n),u.$nextTick((function(){o&&u.setMapAction({map:t,name:e,code:a,isFull:r})}))}))},onSetMapData:function(){if(this.childParentMapObj&&this.childParentMapObj.name&&this.childParentMapObj.parent){var t=this.mapCaches,e=x(this.childParentMapObj.code);t[e]?this.$refs.parentMap.render({map:e,mapData:t[e]}):this.$refs.parentMap.clear()}else this.$refs.parentMap.clear()},setMapAction:function(t){var e=t.map,n=t.name,a=t.code,r=t.isFull,i=this,o=this.chart;o.off("click"),o.off("dblclick"),o.on("click",(function(t){var o=i.childParentMapObj,c=i.mapCaches;if(t.name!==(o||{}).name){var s=c[e];if(s){var u=s.features.find((function(e){return e.properties.name===t.name})),l=u.properties;i.loadMap(l.adcode,l.name,{code:l.adcode,isFull:"district"!==l.level})}o={map:e,name:n,code:a,isFull:r,parent:o},i.onClickMap&&i.onClickMap(o,n)}}))},backUpMap:function(){var t=this,e=this.childParentMapObj;t.loadMap(e.map,e.name,{code:e.code,isFull:e.isFull}),"china"!==e.map?t.$set(t,"childParentMapObj",e.parent):(t.$set(t,"childParentMapObj",null),t.isShowBack=!1)},handleBackStatus:function(t){var e=this;e.childParentMapObj=t,e.isShowBack=!!t},onClickMap:function(t,e){this.handleBackStatus(t,e)},onEchartsInit:function(t,e){this.chart=t,this.echarts=e,this.loadMap(x(1e5),"中国",{code:1e5,isFull:!0})}}},$=S,A=(n("9819"),Object(v["a"])($,u,l,!1,null,null,null)),D=A.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-echarts",{on:{init:t.onEchartsInit}})],1)},T=[],F=(n("8e6e"),n("ac6a"),n("456d"),n("ade3"));function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){Object(F["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var U={name:"alEchart",props:{beforeRender:{type:Function,default:function(){return function(t){return t}}},title:String},components:{VEcharts:O},data:function(){return{chart:null,cachedOptions:{},echarts:null}},methods:{render:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cachedOptions=N({title:{text:this.title},tooltip:{},yAxis:{}},t),this.chart.setOption(this.cachedOptions)},onEchartsInit:function(t,e){this.chart=t,this.echarts=e,this.$nextTick((function(){}))}}},L=U,G=Object(v["a"])(L,B,T,!1,null,"3b83e87e",null),R=G.exports;function V(t,e){var n={name:t,data:e};return n}function q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};e&&e.initOption&&(n=e.initOption());var a={init:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=V(t,a,n);return r.type=e,r}};return a}for(var z=[],H=0;H<5;++H)z.push(Math.round(200*Math.random()));var J={name:"dashboard",components:{AlEchart:R,ChinaMap:D},mounted:function(){},methods:{openModalChart:function(t){var e=this,n={xAxis:{max:"dataMax"},yAxis:{type:"category",data:["A","B","C","D","E"],animationDuration:300,animationDurationUpdate:300},series:[q("销量",{initOption:function(){return{realtimeSort:!0,name:"X",label:{show:!0,position:"right",valueAnimation:!0}}}}).init("bar",[5,20,36,10,10,20])],animationDuration:0,animationDurationUpdate:2e3,animationEasing:"linear",animationEasingUpdate:"linear"};function a(t,e){for(var n=e.series[0].data,a=0;a<n.length;++a)Math.random()>.9?n[a]+=Math.round(2e3*Math.random()):n[a]+=Math.round(200*Math.random());t.render(e)}this.$modal.show(t),setTimeout((function(){var r=e.$refs[t+"_chart"];r&&(a(r,n),setInterval((function(){a(r,n)}),2e3))}),300)}}},K=J,X=Object(v["a"])(K,c,s,!1,null,"40b8978a",null),Q=X.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("al-echart",{attrs:{beforeRender:t.beforeRender}})],1)},Y=[],Z={name:"demoaa",components:{AlEchart:R},data:function(){return{}},methods:{beforeRender:function(){return{}}}},tt=Z,et=Object(v["a"])(tt,W,Y,!1,null,"7c8fd559",null),nt=(et.exports,[{path:"/",component:Q,meta:{title:"HOME"}},{path:"/threemap",component:function(){return n.e("chunk-9cd54160").then(n.bind(null,"f05f"))},meta:{title:"demoaa"}}]),at=new o["a"]({routes:nt}),rt={name:"app",components:{},data:function(){return{routes:nt.filter((function(t){return"*"!==t.path}))}}},it=rt,ot=(n("034f"),Object(v["a"])(it,r,i,!1,null,null,null)),ct=ot.exports,st=n("1881"),ut=n.n(st),lt=(n("202f"),n("c4c6")),ht=n.n(lt);a["a"].use(o["a"]),a["a"].use(ut.a,{componentName:"VModal"}),a["a"].component(ht.a.name,ht.a),a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(ct)},router:at}).$mount("#app")},"64a9":function(t,e,n){},"819d":function(t,e,n){"use strict";n("f7ca")},9308:function(t,e,n){"use strict";n("3872")},9819:function(t,e,n){"use strict";n("496a")},f7ca:function(t,e,n){}});
//# sourceMappingURL=app.84321cbb.js.map